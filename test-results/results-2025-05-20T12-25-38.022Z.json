{
  "timestamp": "2025-05-20T12-25-38.022Z",
  "apiAvailable": false,
  "testType": "all",
  "success": true,
  "details": {
    "basicTests": {
      "success": true,
      "output": "🤖 TEST DU CHATBOT AUTO SERVICE PRO 🤖\n=======================================\n\n\n📝 SCÉNARIO: Question simple sur services\n🧑 Utilisateur: Quels services proposez-vous ?\nÉtat de la conversation mis à jour: {\n  service: null,\n  jour: null,\n  horaire: null,\n  garage: null,\n  confirmed: false,\n  licensePlate: null,\n  vehiculeModel: null,\n  vehiculeBrand: null,\n  askingForLicensePlate: false\n}\n🤖 Chatbot: Voici nos principaux services : vidange (494€), changement de pneus (1062€), contrôle technique (439€). Pour quel service souhaitez-vous un rendez-vous ?\n✅ Focus attendu: réponse courte, liste services\n\n📝 SCÉNARIO: Demande de conseil technique\n🧑 Utilisateur: Ma voiture fait un bruit bizarre quand je freine, que dois-je faire ?\nÉtat de la conversation mis à jour: {\n  service: 'freins',\n  jour: null,\n  horaire: null,\n  garage: null,\n  confirmed: false,\n  licensePlate: null,\n  vehiculeModel: null,\n  vehiculeBrand: null,\n  askingForLicensePlate: false\n}\n🤖 Chatbot: Pour votre freins, quel jour vous conviendrait ? Nous avons des disponibilités cette semaine et la semaine prochaine.\n✅ Focus attendu: pas de diagnostic, orienter vers rdv\n\n📝 SCÉNARIO: Recherche de garage Lyon\n🧑 Utilisateur: Avez-vous un garage à Lyon ?\nÉtat de la conversation mis à jour: {\n  service: 'freins',\n  jour: null,\n  horaire: null,\n  garage: 'Lyon',\n  confirmed: false,\n  licensePlate: null,\n  vehiculeModel: null,\n  vehiculeBrand: null,\n  askingForLicensePlate: false\n}\n🤖 Chatbot: Pour votre freins, quel jour vous conviendrait ? Nous avons des disponibilités cette semaine et la semaine prochaine.\n✅ Focus attendu: adresse précise Lyon\n\n📝 SCÉNARIO: Recherche de garage Nice\n🧑 Utilisateur: Y a-t-il un garage à Nice ?\nÉtat de la conversation mis à jour: {\n  service: 'freins',\n  jour: null,\n  horaire: null,\n  garage: 'Nice',\n  confirmed: false,\n  licensePlate: null,\n  vehiculeModel: null,\n  vehiculeBrand: null,\n  askingForLicensePlate: false\n}\n🤖 Chatbot: Pour votre freins, quel jour vous conviendrait ? Nous avons des disponibilités cette semaine et la semaine prochaine.\n✅ Focus attendu: adresse précise Nice\n\n📝 SCÉNARIO: Prix vidange\n🧑 Utilisateur: Combien coûte une vidange ?\nÉtat de la conversation mis à jour: {\n  service: 'vidange',\n  jour: null,\n  horaire: null,\n  garage: 'Nice',\n  confirmed: false,\n  licensePlate: null,\n  vehiculeModel: null,\n  vehiculeBrand: null,\n  askingForLicensePlate: false\n}\n🤖 Chatbot: Le prix d'une vidange (Service Huile Moteur) est de 494€. Souhaitez-vous prendre rendez-vous pour ce service ?\n✅ Focus attendu: prix vidange\n\n📝 SCÉNARIO: Prix pneus\n🧑 Utilisateur: Quel est le prix pour changer 4 pneus ?\nÉtat de la conversation mis à jour: {\n  service: 'pneus',\n  jour: null,\n  horaire: null,\n  garage: 'Nice',\n  confirmed: false,\n  licensePlate: null,\n  vehiculeModel: null,\n  vehiculeBrand: null,\n  askingForLicensePlate: false\n}\n🤖 Chatbot: Le changement des 4 pneus coûte 1062€. Souhaitez-vous prendre rendez-vous pour ce service ?\n✅ Focus attendu: prix pneus\n\n📝 SCÉNARIO: Prix climatisation\n🧑 Utilisateur: Combien coûte l'entretien de la climatisation ?\nÉtat de la conversation mis à jour: {\n  service: 'climatisation',\n  jour: null,\n  horaire: null,\n  garage: 'Nice',\n  confirmed: false,\n  licensePlate: null,\n  vehiculeModel: null,\n  vehiculeBrand: null,\n  askingForLicensePlate: false\n}\n🤖 Chatbot: Le service climatisation coûte 675€. Souhaitez-vous prendre rendez-vous pour ce service ?\n✅ Focus attendu: prix clim\n\n📝 SCÉNARIO: Prix contrôle technique\n🧑 Utilisateur: Quel est le tarif du contrôle technique ?\nÉtat de la conversation mis à jour: {\n  service: 'ct',\n  jour: null,\n  horaire: null,\n  garage: 'Nice',\n  confirmed: false,\n  licensePlate: null,\n  vehiculeModel: null,\n  vehiculeBrand: null,\n  askingForLicensePlate: false\n}\n🤖 Chatbot: Le contrôle technique coûte 439€. Souhaitez-vous prendre rendez-vous pour ce service ?\n✅ Focus attendu: prix CT\n\n📝 SCÉNARIO: RDV pneus\n🧑 Utilisateur: Je voudrais prendre rendez-vous pour changer mes pneus\nÉtat de la conversation mis à jour: {\n  service: 'pneus',\n  jour: null,\n  horaire: null,\n  garage: 'Nice',\n  confirmed: false,\n  licensePlate: null,\n  vehiculeModel: null,\n  vehiculeBrand: null,\n  askingForLicensePlate: false\n}\n🤖 Chatbot: Pour votre pneus, quel jour vous conviendrait ? Nous avons des disponibilités cette semaine et la semaine prochaine.\n✅ Focus attendu: précision rdv pneus\n\n📝 SCÉNARIO: RDV vidange\n🧑 Utilisateur: J'ai besoin d'une vidange, avez-vous un créneau ?\nÉtat de la conversation mis à jour: {\n  service: 'vidange',\n  jour: null,\n  horaire: null,\n  garage: 'Nice',\n  confirmed: false,\n  licensePlate: null,\n  vehiculeModel: null,\n  vehiculeBrand: null,\n  askingForLicensePlate: false\n}\n🤖 Chatbot: Pour votre vidange, quel jour vous conviendrait ? Nous avons des disponibilités cette semaine et la semaine prochaine.\n✅ Focus attendu: précision rdv vidange\n\n📝 SCÉNARIO: RDV contrôle technique\n🧑 Utilisateur: Je dois faire mon contrôle technique\nÉtat de la conversation mis à jour: {\n  service: 'ct',\n  jour: null,\n  horaire: null,\n  garage: 'Nice',\n  confirmed: false,\n  licensePlate: null,\n  vehiculeModel: null,\n  vehiculeBrand: null,\n  askingForLicensePlate: false\n}\n🤖 Chatbot: Pour votre ct, quel jour vous conviendrait ? Nous avons des disponibilités cette semaine et la semaine prochaine.\n✅ Focus attendu: précision rdv CT\n\n📝 SCÉNARIO: Question ambiguë\n🧑 Utilisateur: Bonjour, je viens d'acheter une voiture\nÉtat de la conversation mis à jour: {\n  service: 'ct',\n  jour: null,\n  horaire: null,\n  garage: 'Nice',\n  confirmed: false,\n  licensePlate: null,\n  vehiculeModel: null,\n  vehiculeBrand: null,\n  askingForLicensePlate: false\n}\n🤖 Chatbot: Pour votre ct, quel jour vous conviendrait ? Nous avons des disponibilités cette semaine et la semaine prochaine.\n✅ Focus attendu: orienter vers service précis\n\n📝 SCÉNARIO: Question technique complexe\n🧑 Utilisateur: Je crois que j'ai un problème de transmission, qu'en pensez-vous ?\nÉtat de la conversation mis à jour: {\n  service: 'ct',\n  jour: null,\n  horaire: null,\n  garage: 'Nice',\n  confirmed: false,\n  licensePlate: null,\n  vehiculeModel: null,\n  vehiculeBrand: null,\n  askingForLicensePlate: false\n}\n🤖 Chatbot: Pour votre ct, quel jour vous conviendrait ? Nous avons des disponibilités cette semaine et la semaine prochaine.\n✅ Focus attendu: pas de diagnostic, proposer rdv\n\n📝 SCÉNARIO: Question prix multiple\n🧑 Utilisateur: Combien pour une vidange et un contrôle technique ?\nÉtat de la conversation mis à jour: {\n  service: 'vidange',\n  jour: null,\n  horaire: null,\n  garage: 'Nice',\n  confirmed: false,\n  licensePlate: null,\n  vehiculeModel: null,\n  vehiculeBrand: null,\n  askingForLicensePlate: false\n}\n🤖 Chatbot: Le prix d'une vidange (Service Huile Moteur) est de 494€. Souhaitez-vous prendre rendez-vous pour ce service ?\n✅ Focus attendu: prix précis, concision\n\n📝 SCÉNARIO: Question garage inexistant\n🧑 Utilisateur: Avez-vous un garage à Bordeaux ?\nÉtat de la conversation mis à jour: {\n  service: 'vidange',\n  jour: null,\n  horaire: null,\n  garage: 'Nice',\n  confirmed: false,\n  licensePlate: null,\n  vehiculeModel: null,\n  vehiculeBrand: null,\n  askingForLicensePlate: false\n}\n🤖 Chatbot: Pour votre vidange, quel jour vous conviendrait ? Nous avons des disponibilités cette semaine et la semaine prochaine.\n✅ Focus attendu: redirection vers garages existants\n\n📝 SCÉNARIO: Demande avec préférences\n🧑 Utilisateur: Je voudrais faire ma vidange lundi prochain\nÉtat de la conversation mis à jour: {\n  service: 'vidange',\n  jour: 'lundi',\n  horaire: null,\n  garage: 'Nice',\n  confirmed: false,\n  licensePlate: null,\n  vehiculeModel: null,\n  vehiculeBrand: null,\n  askingForLicensePlate: false\n}\n🤖 Chatbot: Pour votre vidange le lundi, préférez-vous le matin ou l'après-midi ?\n✅ Focus attendu: confirmation date précise\n\n=======================================\n🏁 TEST TERMINÉ\n"
    },
    "conversationTests": {
      "success": true,
      "output": "🤖 TEST DE CONVERSATIONS AVANCÉES - AUTO SERVICE PRO 🤖\n====================================================\n\n⚠️ API Backend non disponible, fonctionnement en mode hors ligne\n\n🚀 DÉBUT DU SCÉNARIO: Rendez-vous vidange avec plaque d'immatriculation\n=======================================\n\n📝 ÉTAPE 1/6\n🧑 Utilisateur: Bonjour, j'aimerais faire une vidange pour ma voiture\nÉtat de la conversation mis à jour: {\n  service: 'vidange',\n  jour: null,\n  horaire: null,\n  garage: null,\n  confirmed: false,\n  licensePlate: null,\n  vehiculeModel: null,\n  vehiculeBrand: null,\n  askingForLicensePlate: false\n}\n🤖 Chatbot: Pour votre vidange, quel jour vous conviendrait ? Nous avons des disponibilités cette semaine et la semaine prochaine.\n\n📝 ÉTAPE 2/6\n🧑 Utilisateur: Je voudrais venir jeudi matin si possible\nÉtat de la conversation mis à jour: {\n  service: 'vidange',\n  jour: 'jeudi',\n  horaire: 'matin',\n  garage: null,\n  confirmed: false,\n  licensePlate: null,\n  vehiculeModel: null,\n  vehiculeBrand: null,\n  askingForLicensePlate: false\n}\n🤖 Chatbot: Dans quel garage souhaitez-vous prendre rendez-vous : Lyon ou Nice ?\n\n📝 ÉTAPE 3/6\n🧑 Utilisateur: Je préfère le garage de Lyon\nÉtat de la conversation mis à jour: {\n  service: 'vidange',\n  jour: 'jeudi',\n  horaire: 'matin',\n  garage: 'Lyon',\n  confirmed: false,\n  licensePlate: null,\n  vehiculeModel: null,\n  vehiculeBrand: null,\n  askingForLicensePlate: false\n}\n🤖 Chatbot: Nous avons un créneau disponible à Lyon le jeudi matin pour vidange. Le prix sera de 494€. Pour finaliser votre rendez-vous, pourriez-vous indiquer votre plaque d'immatriculation au format AA-123-AA ?\n\n📝 ÉTAPE 4/6\n🧑 Utilisateur: Oui je confirme\nÉtat de la conversation mis à jour: {\n  service: 'vidange',\n  jour: 'jeudi',\n  horaire: 'matin',\n  garage: 'Lyon',\n  confirmed: false,\n  licensePlate: null,\n  vehiculeModel: null,\n  vehiculeBrand: null,\n  askingForLicensePlate: true\n}\n🤖 Chatbot: Pour finaliser votre rendez-vous, pourriez-vous indiquer votre plaque d'immatriculation au format AA-123-AA ?\n\n📝 ÉTAPE 5/6\n🧑 Utilisateur: Ma plaque est AB-123-CD\nRecherche véhicule avec plaque: AB123CD (format original: AB-123-CD)\nÉtat de la conversation mis à jour: {\n  service: 'vidange',\n  jour: 'jeudi',\n  horaire: 'matin',\n  garage: 'Lyon',\n  confirmed: false,\n  licensePlate: 'AB-123-CD',\n  vehiculeModel: null,\n  vehiculeBrand: null,\n  askingForLicensePlate: true\n}\n🤖 Chatbot: Merci pour votre plaque d'immatriculation AB-123-CD. Nous recherchons les informations de votre véhicule Renault Clio. Est-ce bien votre véhicule ?\n\n📝 ÉTAPE 6/6\n🧑 Utilisateur: Oui c'est bien ça\nErreur lors de la récupération des informations du véhicule: AxiosError [AggregateError]\n    at AxiosError.from (/Users/jeremypoulain/Documents/Hackaton/Chatbot/node_modules/axios/dist/node/axios.cjs:863:14)\n    at RedirectableRequest.handleRequestError (/Users/jeremypoulain/Documents/Hackaton/Chatbot/node_modules/axios/dist/node/axios.cjs:3187:25)\n    at RedirectableRequest.emit (node:events:507:28)\n    at eventHandlers.<computed> (/Users/jeremypoulain/Documents/Hackaton/Chatbot/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:507:28)\n    at emitErrorEvent (node:_http_client:104:11)\n    at Socket.socketErrorListener (node:_http_client:518:5)\n    at Socket.emit (node:events:507:28)\n    at emitErrorNT (node:internal/streams/destroy:170:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:129:3)\n    at Axios.request (/Users/jeremypoulain/Documents/Hackaton/Chatbot/node_modules/axios/dist/node/axios.cjs:4276:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getVehiculeInfo (/Users/jeremypoulain/Documents/Hackaton/Chatbot/orchestrator.js:335:22) {\n  code: 'ECONNREFUSED',\n  errors: [\n    Error: connect ECONNREFUSED ::1:8000\n        at createConnectionError (node:net:1675:14)\n        at afterConnectMultiple (node:net:1705:16) {\n      errno: -61,\n      code: 'ECONNREFUSED',\n      syscall: 'connect',\n      address: '::1',\n      port: 8000\n    },\n    Error: connect ECONNREFUSED 127.0.0.1:8000\n        at createConnectionError (node:net:1675:14)\n        at afterConnectMultiple (node:net:1705:16) {\n      errno: -61,\n      code: 'ECONNREFUSED',\n      syscall: 'connect',\n      address: '127.0.0.1',\n      port: 8000\n    }\n  ],\n  config: {\n    transitional: {\n      silentJSONParsing: true,\n      forcedJSONParsing: true,\n      clarifyTimeoutError: false\n    },\n    adapter: [ 'xhr', 'http', 'fetch' ],\n    transformRequest: [ [Function: transformRequest] ],\n    transformResponse: [ [Function: transformResponse] ],\n    timeout: 0,\n    xsrfCookieName: 'XSRF-TOKEN',\n    xsrfHeaderName: 'X-XSRF-TOKEN',\n    maxContentLength: -1,\n    maxBodyLength: -1,\n    env: {\n      FormData: [Function: FormData] [FormData] {\n        LINE_BREAK: '\\r\\n',\n        DEFAULT_CONTENT_TYPE: 'application/octet-stream'\n      },\n      Blob: [class Blob]\n    },\n    validateStatus: [Function: validateStatus],\n    headers: Object [AxiosHeaders] {\n      Accept: 'application/json, text/plain, */*',\n      'Content-Type': undefined,\n      'User-Agent': 'axios/1.9.0',\n      'Accept-Encoding': 'gzip, compress, deflate, br'\n    },\n    method: 'get',\n    url: 'http://localhost:8000/vehicules/AB-123-CD',\n    allowAbsoluteUrls: true,\n    data: undefined\n  },\n  request: <ref *2> Writable {\n    _events: {\n      close: undefined,\n      error: [Function: handleRequestError],\n      prefinish: undefined,\n      finish: undefined,\n      drain: undefined,\n      response: [Function: handleResponse],\n      socket: [Function: handleRequestSocket]\n    },\n    _writableState: WritableState {\n      highWaterMark: 65536,\n      length: 0,\n      corked: 0,\n      onwrite: [Function: bound onwrite],\n      writelen: 0,\n      bufferedIndex: 0,\n      pendingcb: 0,\n      [Symbol(kState)]: 17580812,\n      [Symbol(kBufferedValue)]: null\n    },\n    _maxListeners: undefined,\n    _options: {\n      maxRedirects: 21,\n      maxBodyLength: Infinity,\n      protocol: 'http:',\n      path: '/vehicules/AB-123-CD',\n      method: 'GET',\n      headers: [Object: null prototype] {\n        Accept: 'application/json, text/plain, */*',\n        'User-Agent': 'axios/1.9.0',\n        'Accept-Encoding': 'gzip, compress, deflate, br'\n      },\n      agents: { http: undefined, https: undefined },\n      auth: undefined,\n      family: undefined,\n      beforeRedirect: [Function: dispatchBeforeRedirect],\n      beforeRedirects: { proxy: [Function: beforeRedirect] },\n      hostname: 'localhost',\n      port: '8000',\n      agent: undefined,\n      nativeProtocols: {\n        'http:': {\n          _connectionListener: [Function: connectionListener],\n          METHODS: [\n            'ACL',        'BIND',        'CHECKOUT',\n            'CONNECT',    'COPY',        'DELETE',\n            'GET',        'HEAD',        'LINK',\n            'LOCK',       'M-SEARCH',    'MERGE',\n            'MKACTIVITY', 'MKCALENDAR',  'MKCOL',\n            'MOVE',       'NOTIFY',      'OPTIONS',\n            'PATCH',      'POST',        'PROPFIND',\n            'PROPPATCH',  'PURGE',       'PUT',\n            'QUERY',      'REBIND',      'REPORT',\n            'SEARCH',     'SOURCE',      'SUBSCRIBE',\n            'TRACE',      'UNBIND',      'UNLINK',\n            'UNLOCK',     'UNSUBSCRIBE'\n          ],\n          STATUS_CODES: {\n            '100': 'Continue',\n            '101': 'Switching Protocols',\n            '102': 'Processing',\n            '103': 'Early Hints',\n            '200': 'OK',\n            '201': 'Created',\n            '202': 'Accepted',\n            '203': 'Non-Authoritative Information',\n            '204': 'No Content',\n            '205': 'Reset Content',\n            '206': 'Partial Content',\n            '207': 'Multi-Status',\n            '208': 'Already Reported',\n            '226': 'IM Used',\n            '300': 'Multiple Choices',\n            '301': 'Moved Permanently',\n            '302': 'Found',\n            '303': 'See Other',\n            '304': 'Not Modified',\n            '305': 'Use Proxy',\n            '307': 'Temporary Redirect',\n            '308': 'Permanent Redirect',\n            '400': 'Bad Request',\n            '401': 'Unauthorized',\n            '402': 'Payment Required',\n            '403': 'Forbidden',\n            '404': 'Not Found',\n            '405': 'Method Not Allowed',\n            '406': 'Not Acceptable',\n            '407': 'Proxy Authentication Required',\n            '408': 'Request Timeout',\n            '409': 'Conflict',\n            '410': 'Gone',\n            '411': 'Length Required',\n            '412': 'Precondition Failed',\n            '413': 'Payload Too Large',\n            '414': 'URI Too Long',\n            '415': 'Unsupported Media Type',\n            '416': 'Range Not Satisfiable',\n            '417': 'Expectation Failed',\n            '418': \"I'm a Teapot\",\n            '421': 'Misdirected Request',\n            '422': 'Unprocessable Entity',\n            '423': 'Locked',\n            '424': 'Failed Dependency',\n            '425': 'Too Early',\n            '426': 'Upgrade Required',\n            '428': 'Precondition Required',\n            '429': 'Too Many Requests',\n            '431': 'Request Header Fields Too Large',\n            '451': 'Unavailable For Legal Reasons',\n            '500': 'Internal Server Error',\n            '501': 'Not Implemented',\n            '502': 'Bad Gateway',\n            '503': 'Service Unavailable',\n            '504': 'Gateway Timeout',\n            '505': 'HTTP Version Not Supported',\n            '506': 'Variant Also Negotiates',\n            '507': 'Insufficient Storage',\n            '508': 'Loop Detected',\n            '509': 'Bandwidth Limit Exceeded',\n            '510': 'Not Extended',\n            '511': 'Network Authentication Required'\n          },\n          Agent: [Function: Agent] { defaultMaxSockets: Infinity },\n          ClientRequest: [Function: ClientRequest],\n          IncomingMessage: [Function: IncomingMessage],\n          OutgoingMessage: [Function: OutgoingMessage],\n          Server: [Function: Server],\n          ServerResponse: [Function: ServerResponse],\n          createServer: [Function: createServer],\n          validateHeaderName: [Function: wrappedFn] {\n            withoutStackTrace: [Function (anonymous)]\n          },\n          validateHeaderValue: [Function: wrappedFn] {\n            withoutStackTrace: [Function (anonymous)]\n          },\n          get: [Function: get],\n          request: [Function: request],\n          setMaxIdleHTTPParsers: [Function: setMaxIdleHTTPParsers],\n          maxHeaderSize: [Getter],\n          globalAgent: [Getter/Setter],\n          WebSocket: [Getter],\n          CloseEvent: [Getter],\n          MessageEvent: [Getter]\n        },\n        'https:': {\n          Agent: [Function: Agent],\n          globalAgent: Agent {\n            _events: [Object: null prototype] {\n              free: [Function (anonymous)],\n              newListener: [Function: maybeEnableKeylog]\n            },\n            _eventsCount: 2,\n            _maxListeners: undefined,\n            defaultPort: 443,\n            protocol: 'https:',\n            options: [Object: null prototype] {\n              keepAlive: true,\n              scheduling: 'lifo',\n              timeout: 5000,\n              noDelay: true,\n              path: null\n            },\n            requests: [Object: null prototype] {},\n            sockets: [Object: null prototype] {},\n            freeSockets: [Object: null prototype] {},\n            keepAliveMsecs: 1000,\n            keepAlive: true,\n            maxSockets: Infinity,\n            maxFreeSockets: 256,\n            scheduling: 'lifo',\n            maxTotalSockets: Infinity,\n            totalSocketCount: 0,\n            maxCachedSessions: 100,\n            _sessionCache: { map: {}, list: [] },\n            [Symbol(shapeMode)]: false,\n            [Symbol(kCapture)]: false\n          },\n          Server: [Function: Server],\n          createServer: [Function: createServer],\n          get: [Function: get],\n          request: [Function: request]\n        }\n      },\n      pathname: '/vehicules/AB-123-CD'\n    },\n    _ended: true,\n    _ending: true,\n    _redirectCount: 0,\n    _redirects: [],\n    _requestBodyLength: 0,\n    _requestBodyBuffers: [],\n    _eventsCount: 3,\n    _onNativeResponse: [Function (anonymous)],\n    _currentRequest: <ref *1> ClientRequest {\n      _events: [Object: null prototype] {\n        response: [Function: bound onceWrapper] {\n          listener: [Function (anonymous)]\n        },\n        abort: [Function (anonymous)],\n        aborted: [Function (anonymous)],\n        connect: [Function (anonymous)],\n        error: [Function (anonymous)],\n        socket: [Function (anonymous)],\n        timeout: [Function (anonymous)]\n      },\n      _eventsCount: 7,\n      _maxListeners: undefined,\n      outputData: [],\n      outputSize: 0,\n      writable: true,\n      destroyed: false,\n      _last: true,\n      chunkedEncoding: false,\n      shouldKeepAlive: true,\n      maxRequestsOnConnectionReached: false,\n      _defaultKeepAlive: true,\n      useChunkedEncodingByDefault: false,\n      sendDate: false,\n      _removedConnection: false,\n      _removedContLen: false,\n      _removedTE: false,\n      strictContentLength: false,\n      _contentLength: 0,\n      _hasBody: true,\n      _trailer: '',\n      finished: true,\n      _headerSent: true,\n      _closed: false,\n      _header: 'GET /vehicules/AB-123-CD HTTP/1.1\\r\\n' +\n        'Accept: application/json, text/plain, */*\\r\\n' +\n        'User-Agent: axios/1.9.0\\r\\n' +\n        'Accept-Encoding: gzip, compress, deflate, br\\r\\n' +\n        'Host: localhost:8000\\r\\n' +\n        'Connection: keep-alive\\r\\n' +\n        '\\r\\n',\n      _keepAliveTimeout: 0,\n      _onPendingData: [Function: nop],\n      agent: Agent {\n        _events: [Object: null prototype] {\n          free: [Function (anonymous)],\n          newListener: [Function: maybeEnableKeylog]\n        },\n        _eventsCount: 2,\n        _maxListeners: undefined,\n        defaultPort: 80,\n        protocol: 'http:',\n        options: [Object: null prototype] {\n          keepAlive: true,\n          scheduling: 'lifo',\n          timeout: 5000,\n          noDelay: true,\n          path: null\n        },\n        requests: [Object: null prototype] {},\n        sockets: [Object: null prototype] {\n          'localhost:8000:': [\n            Socket {\n              connecting: false,\n              _hadError: true,\n              _parent: null,\n              _host: 'localhost',\n              _closeAfterHandlingError: false,\n              _events: {\n                close: [\n                  [Function: onClose],\n                  [Function: socketCloseListener],\n                  [Function: bound onceWrapper] {\n                    listener: [Function: onClose]\n                  }\n                ],\n                error: [Function: socketErrorListener],\n                prefinish: undefined,\n                finish: undefined,\n                drain: [Function: ondrain],\n                data: undefined,\n                end: [Function: onReadableStreamEnd],\n                readable: undefined,\n                connect: [\n                  [Function: bound onceWrapper] {\n                    listener: [Function (anonymous)]\n                  },\n                  [Function: bound onceWrapper] {\n                    listener: [Function: connect]\n                  },\n                  [Function: bound onceWrapper] {\n                    listener: [Function (anonymous)]\n                  }\n                ],\n                free: [Function: onFree],\n                timeout: [\n                  [Function: onTimeout],\n                  [Function: bound onceWrapper] {\n                    listener: [Function: emitRequestTimeout]\n                  }\n                ],\n                agentRemove: [Function: onRemove]\n              },\n              _readableState: ReadableState {\n                highWaterMark: 65536,\n                buffer: [],\n                bufferIndex: 0,\n                length: 0,\n                pipes: [],\n                awaitDrainWriters: null,\n                [Symbol(kState)]: 59777526,\n                [Symbol(kErroredValue)]: AggregateError [ECONNREFUSED]: \n                    at internalConnectMultiple (node:net:1139:18)\n                    at afterConnectMultiple (node:net:1712:7) {\n                  code: 'ECONNREFUSED',\n                  [errors]: [\n                    Error: connect ECONNREFUSED ::1:8000\n                        at createConnectionError (node:net:1675:14)\n                        at afterConnectMultiple (node:net:1705:16) {\n                      errno: -61,\n                      code: 'ECONNREFUSED',\n                      syscall: 'connect',\n                      address: '::1',\n                      port: 8000\n                    },\n                    Error: connect ECONNREFUSED 127.0.0.1:8000\n                        at createConnectionError (node:net:1675:14)\n                        at afterConnectMultiple (node:net:1705:16) {\n                      errno: -61,\n                      code: 'ECONNREFUSED',\n                      syscall: 'connect',\n                      address: '127.0.0.1',\n                      port: 8000\n                    }\n                  ]\n                }\n              },\n              _writableState: WritableState {\n                highWaterMark: 65536,\n                length: 197,\n                corked: 0,\n                onwrite: [Function: bound onwrite],\n                writelen: 197,\n                bufferedIndex: 0,\n                pendingcb: 1,\n                [Symbol(kState)]: 118260214,\n                [Symbol(kBufferedValue)]: null,\n                [Symbol(kWriteCbValue)]: [Function: bound onFinish],\n                [Symbol(kErroredValue)]: AggregateError [ECONNREFUSED]: \n                    at internalConnectMultiple (node:net:1139:18)\n                    at afterConnectMultiple (node:net:1712:7) {\n                  code: 'ECONNREFUSED',\n                  [errors]: [\n                    Error: connect ECONNREFUSED ::1:8000\n                        at createConnectionError (node:net:1675:14)\n                        at afterConnectMultiple (node:net:1705:16) {\n                      errno: -61,\n                      code: 'ECONNREFUSED',\n                      syscall: 'connect',\n                      address: '::1',\n                      port: 8000\n                    },\n                    Error: connect ECONNREFUSED 127.0.0.1:8000\n                        at createConnectionError (node:net:1675:14)\n                        at afterConnectMultiple (node:net:1705:16) {\n                      errno: -61,\n                      code: 'ECONNREFUSED',\n                      syscall: 'connect',\n                      address: '127.0.0.1',\n                      port: 8000\n                    }\n                  ]\n                }\n              },\n              allowHalfOpen: false,\n              _maxListeners: undefined,\n              _eventsCount: Utilisation de données de véhicule par défaut pour continuer le flux\n8,\n              _sockname: null,\n              _pendingData: 'GET /vehicules/AB-123-CD HTTP/1.1\\r\\n' +\n                'Accept: application/json, text/plain, */*\\r\\n' +\n                'User-Agent: axios/1.9.0\\r\\n' +\n                'Accept-Encoding: gzip, compress, deflate, br\\r\\n' +\n                'Host: localhost:8000\\r\\n' +\n                'Connection: keep-alive\\r\\n' +\n                '\\r\\n',\n              _pendingEncoding: 'latin1',\n              server: null,\n              _server: null,\n              timeout: 5000,\n              parser: null,\n              _httpMessage: [Circular *1],\n              autoSelectFamilyAttemptedAddresses: [ '::1:8000', '127.0.0.1:8000' ],\n              [Symbol(async_id_symbol)]: 41,\n              [Symbol(kHandle)]: null,\n              [Symbol(lastWriteQueueSize)]: 0,\n              [Symbol(timeout)]: Timeout {\n                _idleTimeout: -1,\n                _idlePrev: null,\n                _idleNext: null,\n                _idleStart: 5190,\n                _onTimeout: null,\n                _timerArgs: undefined,\n                _repeat: null,\n                _destroyed: true,\n                [Symbol(refed)]: false,\n                [Symbol(kHasPrimitive)]: false,\n                [Symbol(asyncId)]: 31,\n                [Symbol(triggerId)]: 0,\n                [Symbol(kAsyncContextFrame)]: undefined\n              },\n              [Symbol(kBuffer)]: null,\n              [Symbol(kBufferCb)]: null,\n              [Symbol(kBufferGen)]: null,\n              [Symbol(shapeMode)]: true,\n              [Symbol(kCapture)]: false,\n              [Symbol(kSetNoDelay)]: true,\n              [Symbol(kSetKeepAlive)]: true,\n              [Symbol(kSetKeepAliveInitialDelay)]: 60,\n              [Symbol(kBytesRead)]: 0,\n              [Symbol(kBytesWritten)]: 0\n            }\n          ]\n        },\n        freeSockets: [Object: null prototype] {},\n        keepAliveMsecs: 1000,\n        keepAlive: true,\n        maxSockets: Infinity,\n        maxFreeSockets: 256,\n        scheduling: 'lifo',\n        maxTotalSockets: Infinity,\n        totalSocketCount: 1,\n        [Symbol(shapeMode)]: false,\n        [Symbol(kCapture)]: false\n      },\n      socketPath: undefined,\n      method: 'GET',\n      maxHeaderSize: undefined,\n      insecureHTTPParser: undefined,\n      joinDuplicateHeaders: undefined,\n      path: '/vehicules/AB-123-CD',\n      _ended: false,\n      res: null,\n      aborted: false,\n      timeoutCb: [Function: emitRequestTimeout],\n      upgradeOrConnect: false,\n      parser: null,\n      maxHeadersCount: null,\n      reusedSocket: false,\n      host: 'localhost',\n      protocol: 'http:',\n      _redirectable: [Circular *2],\n      [Symbol(shapeMode)]: false,\n      [Symbol(kCapture)]: false,\n      [Symbol(kBytesWritten)]: 0,\n      [Symbol(kNeedDrain)]: false,\n      [Symbol(corked)]: 0,\n      [Symbol(kChunkedBuffer)]: [],\n      [Symbol(kChunkedLength)]: 0,\n      [Symbol(kSocket)]: Socket {\n        connecting: false,\n        _hadError: true,\n        _parent: null,\n        _host: 'localhost',\n        _closeAfterHandlingError: false,\n        _events: {\n          close: [\n            [Function: onClose],\n            [Function: socketCloseListener],\n            [Function: bound onceWrapper] {\n              listener: [Function: onClose]\n            }\n          ],\n          error: [Function: socketErrorListener],\n          prefinish: undefined,\n          finish: undefined,\n          drain: [Function: ondrain],\n          data: undefined,\n          end: [Function: onReadableStreamEnd],\n          readable: undefined,\n          connect: [\n            [Function: bound onceWrapper] {\n              listener: [Function (anonymous)]\n            },\n            [Function: bound onceWrapper] {\n              listener: [Function: connect]\n            },\n            [Function: bound onceWrapper] {\n              listener: [Function (anonymous)]\n            }\n          ],\n          free: [Function: onFree],\n          timeout: [\n            [Function: onTimeout],\n            [Function: bound onceWrapper] {\n              listener: [Function: emitRequestTimeout]\n            }\n          ],\n          agentRemove: [Function: onRemove]\n        },\n        _readableState: ReadableState {\n          highWaterMark: 65536,\n          buffer: [],\n          bufferIndex: 0,\n          length: 0,\n          pipes: [],\n          awaitDrainWriters: null,\n          [Symbol(kState)]: 59777526,\n          [Symbol(kErroredValue)]: AggregateError [ECONNREFUSED]: \n              at internalConnectMultiple (node:net:1139:18)\n              at afterConnectMultiple (node:net:1712:7) {\n            code: 'ECONNREFUSED',\n            [errors]: [\n              Error: connect ECONNREFUSED ::1:8000\n                  at createConnectionError (node:net:1675:14)\n                  at afterConnectMultiple (node:net:1705:16) {\n                errno: -61,\n                code: 'ECONNREFUSED',\n                syscall: 'connect',\n                address: '::1',\n                port: 8000\n              },\n              Error: connect ECONNREFUSED 127.0.0.1:8000\n                  at createConnectionError (node:net:1675:14)\n                  at afterConnectMultiple (node:net:1705:16) {\n                errno: -61,\n                code: 'ECONNREFUSED',\n                syscall: 'connect',\n                address: '127.0.0.1',\n                port: 8000\n              }\n            ]\n          }\n        },\n        _writableState: WritableState {\n          highWaterMark: 65536,\n          length: 197,\n          corked: 0,\n          onwrite: [Function: bound onwrite],\n          writelen: 197,\n          bufferedIndex: 0,\n          pendingcb: 1,\n          [Symbol(kState)]: 118260214,\n          [Symbol(kBufferedValue)]: null,\n          [Symbol(kWriteCbValue)]: [Function: bound onFinish],\n          [Symbol(kErroredValue)]: AggregateError [ECONNREFUSED]: \n              at internalConnectMultiple (node:net:1139:18)\n              at afterConnectMultiple (node:net:1712:7) {\n            code: 'ECONNREFUSED',\n            [errors]: [\n              Error: connect ECONNREFUSED ::1:8000\n                  at createConnectionError (node:net:1675:14)\n                  at afterConnectMultiple (node:net:1705:16) {\n                errno: -61,\n                code: 'ECONNREFUSED',\n                syscall: 'connect',\n                address: '::1',\n                port: 8000\n              },\n              Error: connect ECONNREFUSED 127.0.0.1:8000\n                  at createConnectionError (node:net:1675:14)\n                  at afterConnectMultiple (node:net:1705:16) {\n                errno: -61,\n                code: 'ECONNREFUSED',\n                syscall: 'connect',\n                address: '127.0.0.1',\n                port: 8000\n              }\n            ]\n          }\n        },\n        allowHalfOpen: false,\n        _maxListeners: undefined,\n        _eventsCount: 8,\n        _sockname: null,\n        _pendingData: 'GET /vehicules/AB-123-CD HTTP/1.1\\r\\n' +\n          'Accept: application/json, text/plain, */*\\r\\n' +\n          'User-Agent: axios/1.9.0\\r\\n' +\n          'Accept-Encoding: gzip, compress, deflate, br\\r\\n' +\n          'Host: localhost:8000\\r\\n' +\n          'Connection: keep-alive\\r\\n' +\n          '\\r\\n',\n        _pendingEncoding: 'latin1',\n        server: null,\n        _server: null,\n        timeout: 5000,\n        parser: null,\n        _httpMessage: [Circular *1],\n        autoSelectFamilyAttemptedAddresses: [ '::1:8000', '127.0.0.1:8000' ],\n        [Symbol(async_id_symbol)]: 41,\n        [Symbol(kHandle)]: null,\n        [Symbol(lastWriteQueueSize)]: 0,\n        [Symbol(timeout)]: Timeout {\n          _idleTimeout: -1,\n          _idlePrev: null,\n          _idleNext: null,\n          _idleStart: 5190,\n          _onTimeout: null,\n          _timerArgs: undefined,\n          _repeat: null,\n          _destroyed: true,\n          [Symbol(refed)]: false,\n          [Symbol(kHasPrimitive)]: false,\n          [Symbol(asyncId)]: 31,\n          [Symbol(triggerId)]: 0,\n          [Symbol(kAsyncContextFrame)]: undefined\n        },\n        [Symbol(kBuffer)]: null,\n        [Symbol(kBufferCb)]: null,\n        [Symbol(kBufferGen)]: null,\n        [Symbol(shapeMode)]: true,\n        [Symbol(kCapture)]: false,\n        [Symbol(kSetNoDelay)]: true,\n        [Symbol(kSetKeepAlive)]: true,\n        [Symbol(kSetKeepAliveInitialDelay)]: 60,\n        [Symbol(kBytesRead)]: 0,\n        [Symbol(kBytesWritten)]: 0\n      },\n      [Symbol(kOutHeaders)]: [Object: null prototype] {\n        accept: [ 'Accept', 'application/json, text/plain, */*' ],\n        'user-agent': [ 'User-Agent', 'axios/1.9.0' ],\n        'accept-encoding': [ 'Accept-Encoding', 'gzip, compress, deflate, br' ],\n        host: [ 'Host', 'localhost:8000' ]\n      },\n      [Symbol(errored)]: null,\n      [Symbol(kHighWaterMark)]: 65536,\n      [Symbol(kRejectNonStandardBodyWrites)]: false,\n      [Symbol(kUniqueHeaders)]: null\n    },\n    _currentUrl: 'http://localhost:8000/vehicules/AB-123-CD',\n    [Symbol(shapeMode)]: true,\n    [Symbol(kCapture)]: false\n  },\n  cause: AggregateError [ECONNREFUSED]: \n      at internalConnectMultiple (node:net:1139:18)\n      at afterConnectMultiple (node:net:1712:7) {\n    code: 'ECONNREFUSED',\n    [errors]: [\n      Error: connect ECONNREFUSED ::1:8000\n          at createConnectionError (node:net:1675:14)\n          at afterConnectMultiple (node:net:1705:16) {\n        errno: -61,\n        code: 'ECONNREFUSED',\n        syscall: 'connect',\n        address: '::1',\n        port: 8000\n      },\n      Error: connect ECONNREFUSED 127.0.0.1:8000\n          at createConnectionError (node:net:1675:14)\n          at afterConnectMultiple (node:net:1705:16) {\n        errno: -61,\n        code: 'ECONNREFUSED',\n        syscall: 'connect',\n        address: '127.0.0.1',\n        port: 8000\n      }\n    ]\n  }\n}\nÉtat de la conversation mis à jour: {\n  service: 'vidange',\n  jour: 'jeudi',\n  horaire: 'matin',\n  garage: 'Lyon',\n  confirmed: false,\n  licensePlate: 'AB-123-CD',\n  vehiculeModel: 'Clio',\n  vehiculeBrand: 'Renault',\n  askingForLicensePlate: true\n}\n🤖 Chatbot: Parfait ! Votre rendez-vous est confirmé pour votre Renault Clio (immatriculation AB-123-CD) au garage de Lyon le jeudi matin pour vidange. Le prix sera de 494€. Pouvons-nous vous aider pour autre chose ?\n=======================================\n✅ SCÉNARIO RÉUSSI: Rendez-vous vidange avec plaque d'immatriculation\nVéhicule non trouvé, création d'un nouveau véhicule...\n⚠️ Aucune plaque d'immatriculation trouvée, utilisation d'une valeur par défaut.\n🔧 Tentative d'exécution SQL directe via Docker:\n\n        INSERT INTO vehicule (\n          id, user_id, brand, model, license_plate, vin, \n          registration_date, mileage, created_at, updated_at\n        ) VALUES (\n          'veh-j6uu90ziyyg', \n          'test-user-id-12345', \n          'Renault', \n          'Clio', \n          'AA123AA', \n          'VF19ZPW52B29V', \n          '2020-01-01', \n          50000, \n          NOW(), \n          NOW()\n        );\n      \n❌ Erreur SQL: Command failed: docker exec -i mysql_database mysql -u user -puserpassword myapp -e \"\n        INSERT INTO vehicule (\n          id, user_id, brand, model, license_plate, vin, \n          registration_date, mileage, created_at, updated_at\n        ) VALUES (\n          \\'veh-j6uu90ziyyg\\', \n          \\'test-user-id-12345\\', \n          \\'Renault\\', \n          \\'Clio\\', \n          \\'AA123AA\\', \n          \\'VF19ZPW52B29V\\', \n          \\'2020-01-01\\', \n          50000, \n          NOW(), \n          NOW()\n        );\n      \"\nmysql: [Warning] Using a password on the command line interface can be insecure.\nERROR at line 2: Unknown command '\\''.\n\n❌ Échec de création du véhicule, utilisation d'un ID temporaire\n🔧 Tentative d'exécution SQL directe via Docker:\n\n      INSERT INTO appointment (\n        id, vehicule_id, garage_id, date, status, \n        notes, created_at, updated_at\n      ) VALUES (\n        'appt-wieu984fsb', \n        'veh-j6uu90ziyyg', \n        '0196ed2d-b150-7411-9c36-22b31ab0f54a', \n        '2025-05-20 12:00:00', \n        'confirmed', \n        'Rendez-vous de service', \n        NOW(), \n        NOW()\n      );\n    \n❌ Erreur SQL: Command failed: docker exec -i mysql_database mysql -u user -puserpassword myapp -e \"\n      INSERT INTO appointment (\n        id, vehicule_id, garage_id, date, status, \n        notes, created_at, updated_at\n      ) VALUES (\n        \\'appt-wieu984fsb\\', \n        \\'veh-j6uu90ziyyg\\', \n        \\'0196ed2d-b150-7411-9c36-22b31ab0f54a\\', \n        \\'2025-05-20 12:00:00\\', \n        \\'confirmed\\', \n        \\'Rendez-vous de service\\', \n        NOW(), \n        NOW()\n      );\n    \"\nmysql: [Warning] Using a password on the command line interface can be insecure.\nERROR at line 2: Unknown command '\\''.\n\n❌ Échec de création du rendez-vous en base\nℹ️ Simulation de succès pour le test:\n{\n  id: 'appt-wieu984fsb',\n  vehicule_id: 'veh-j6uu90ziyyg',\n  garage_id: '0196ed2d-b150-7411-9c36-22b31ab0f54a',\n  date: '2025-05-20 12:00:00',\n  status: 'confirmed',\n  notes: 'Rendez-vous de service'\n}\nTentative de réservation terminée: true\n\n🚀 DÉBUT DU SCÉNARIO: Rendez-vous pneus avec questions de prix\n=======================================\n\n📝 ÉTAPE 1/7\n🧑 Utilisateur: Combien coûte le changement des pneus ?\nÉtat de la conversation mis à jour: {\n  service: 'pneus',\n  jour: null,\n  horaire: null,\n  garage: null,\n  confirmed: false,\n  licensePlate: null,\n  vehiculeModel: null,\n  vehiculeBrand: null,\n  askingForLicensePlate: false\n}\n🤖 Chatbot: Le changement des 4 pneus coûte 1062€. Souhaitez-vous prendre rendez-vous pour ce service ?\n\n📝 ÉTAPE 2/7\n🧑 Utilisateur: Je veux prendre rendez-vous pour changer mes pneus\nÉtat de la conversation mis à jour: {\n  service: 'pneus',\n  jour: null,\n  horaire: null,\n  garage: null,\n  confirmed: false,\n  licensePlate: null,\n  vehiculeModel: null,\n  vehiculeBrand: null,\n  askingForLicensePlate: false\n}\n🤖 Chatbot: Pour votre pneus, quel jour vous conviendrait ? Nous avons des disponibilités cette semaine et la semaine prochaine.\n\n📝 ÉTAPE 3/7\n🧑 Utilisateur: Est-ce que je peux venir mardi après-midi ?\nÉtat de la conversation mis à jour: {\n  service: 'pneus',\n  jour: 'mardi',\n  horaire: 'après-midi',\n  garage: null,\n  confirmed: false,\n  licensePlate: null,\n  vehiculeModel: null,\n  vehiculeBrand: null,\n  askingForLicensePlate: false\n}\n🤖 Chatbot: Dans quel garage souhaitez-vous prendre rendez-vous : Lyon ou Nice ?\n\n📝 ÉTAPE 4/7\n🧑 Utilisateur: À Nice, s'il vous plaît\nÉtat de la conversation mis à jour: {\n  service: 'pneus',\n  jour: 'mardi',\n  horaire: 'après-midi',\n  garage: 'Nice',\n  confirmed: false,\n  licensePlate: null,\n  vehiculeModel: null,\n  vehiculeBrand: null,\n  askingForLicensePlate: false\n}\n🤖 Chatbot: Nous avons un créneau disponible à Nice le mardi après-midi pour pneus. Le prix sera de 1062€. Pour finaliser votre rendez-vous, pourriez-vous indiquer votre plaque d'immatriculation au format AA-123-AA ?\n\n📝 ÉTAPE 5/7\n🧑 Utilisateur: Je confirme\nÉtat de la conversation mis à jour: {\n  service: 'pneus',\n  jour: 'mardi',\n  horaire: 'après-midi',\n  garage: 'Nice',\n  confirmed: false,\n  licensePlate: null,\n  vehiculeModel: null,\n  vehiculeBrand: null,\n  askingForLicensePlate: true\n}\n🤖 Chatbot: Pour finaliser votre rendez-vous, pourriez-vous indiquer votre plaque d'immatriculation au format AA-123-AA ?\n\n📝 ÉTAPE 6/7\n🧑 Utilisateur: XY-456-ZW\nRecherche véhicule avec plaque: XY456ZW (format original: XY-456-ZW)\nÉtat de la conversation mis à jour: {\n  service: 'pneus',\n  jour: 'mardi',\n  horaire: 'après-midi',\n  garage: 'Nice',\n  confirmed: false,\n  licensePlate: 'XY-456-ZW',\n  vehiculeModel: null,\n  vehiculeBrand: null,\n  askingForLicensePlate: true\n}\n🤖 Chatbot: Merci pour votre plaque d'immatriculation XY-456-ZW. Nous recherchons les informations de votre véhicule Renault Clio. Est-ce bien votre véhicule ?\n\n📝 ÉTAPE 7/7\n🧑 Utilisateur: Oui, parfait\nErreur lors de la récupération des informations du véhicule: AxiosError [AggregateError]\n    at AxiosError.from (/Users/jeremypoulain/Documents/Hackaton/Chatbot/node_modules/axios/dist/node/axios.cjs:863:14)\n    at RedirectableRequest.handleRequestError (/Users/jeremypoulain/Documents/Hackaton/Chatbot/node_modules/axios/dist/node/axios.cjs:3187:25)\n    at RedirectableRequest.emit (node:events:507:28)\n    at eventHandlers.<computed> (/Users/jeremypoulain/Documents/Hackaton/Chatbot/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:507:28)\n    at emitErrorEvent (node:_http_client:104:11)\n    at Socket.socketErrorListener (node:_http_client:518:5)\n    at Socket.emit (node:events:507:28)\n    at emitErrorNT (node:internal/streams/destroy:170:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:129:3)\n    at Axios.request (/Users/jeremypoulain/Documents/Hackaton/Chatbot/node_modules/axios/dist/node/axios.cjs:4276:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getVehiculeInfo (/Users/jeremypoulain/Documents/Hackaton/Chatbot/orchestrator.js:335:22) {\n  code: 'ECONNREFUSED',\n  errors: [\n    Error: connect ECONNREFUSED ::1:8000\n        at createConnectionError (node:net:1675:14)\n        at afterConnectMultiple (node:net:1705:16) {\n      errno: -61,\n      code: 'ECONNREFUSED',\n      syscall: 'connect',\n      address: '::1',\n      port: 8000\n    },\n    Error: connect ECONNREFUSED 127.0.0.1:8000\n        at createConnectionError (node:net:1675:14)\n        at afterConnectMultiple (node:net:1705:16) {\n      errno: -61,\n      code: 'ECONNREFUSED',\n      syscall: 'connect',\n      address: '127.0.0.1',\n      port: 8000\n    }\n  ],\n  config: {\n    transitional: {\n      silentJSONParsing: true,\n      forcedJSONParsing: true,\n      clarifyTimeoutError: false\n    },\n    adapter: [ 'xhr', 'http', 'fetch' ],\n    transformRequest: [ [Function: transformRequest] ],\n    transformResponse: [ [Function: transformResponse] ],\n    timeout: 0,\n    xsrfCookieName: 'XSRF-TOKEN',\n    xsrfHeaderName: 'X-XSRF-TOKEN',\n    maxContentLength: -1,\n    maxBodyLength: -1,\n    env: {\n      FormData: [Function: FormData] [FormData] {\n        LINE_BREAK: '\\r\\n',\n        DEFAULT_CONTENT_TYPE: 'application/octet-stream'\n      },\n      Blob: [class Blob]\n    },\n    validateStatus: [Function: validateStatus],\n    headers: Object [AxiosHeaders] {\n      Accept: 'application/json, text/plain, */*',\n      'Content-Type': undefined,\n      'User-Agent': 'axios/1.9.0',\n      'Accept-Encoding': 'gzip, compress, deflate, br'\n    },\n    method: 'get',\n    url: 'http://localhost:8000/vehicules/XY-456-ZW',\n    allowAbsoluteUrls: true,\n    data: undefined\n  },\n  request: <ref *2> Writable {\n    _events: {\n      close: undefined,\n      error: [Function: handleRequestError],\n      prefinish: undefined,\n      finish: undefined,\n      drain: undefined,\n      response: [Function: handleResponse],\n      socket: [Function: handleRequestSocket]\n    },\n    _writableState: WritableState {\n      highWaterMark: 65536,\n      length: 0,\n      corked: 0,\n      onwrite: [Function: bound onwrite],\n      writelen: 0,\n      bufferedIndex: 0,\n      pendingcb: 0,\n      [Symbol(kState)]: 17580812,\n      [Symbol(kBufferedValue)]: null\n    },\n    _maxListeners: undefined,\n    _options: {\n      maxRedirects: 21,\n      maxBodyLength: Infinity,\n      protocol: 'http:',\n      path: '/vehicules/XY-456-ZW',\n      method: 'GET',\n      headers: [Object: null prototype] {\n        Accept: 'application/json, text/plain, */*',\n        'User-Agent': 'axios/1.9.0',\n        'Accept-Encoding': 'gzip, compress, deflate, br'\n      },\n      agents: { http: undefined, https: undefined },\n      auth: undefined,\n      family: undefined,\n      beforeRedirect: [Function: dispatchBeforeRedirect],\n      beforeRedirects: { proxy: [Function: beforeRedirect] },\n      hostname: 'localhost',\n      port: '8000',\n      agent: undefined,\n      nativeProtocols: {\n        'http:': {\n          _connectionListener: [Function: connectionListener],\n          METHODS: [\n            'ACL',        'BIND',        'CHECKOUT',\n            'CONNECT',    'COPY',        'DELETE',\n            'GET',        'HEAD',        'LINK',\n            'LOCK',       'M-SEARCH',    'MERGE',\n            'MKACTIVITY', 'MKCALENDAR',  'MKCOL',\n            'MOVE',       'NOTIFY',      'OPTIONS',\n            'PATCH',      'POST',        'PROPFIND',\n            'PROPPATCH',  'PURGE',       'PUT',\n            'QUERY',      'REBIND',      'REPORT',\n            'SEARCH',     'SOURCE',      'SUBSCRIBE',\n            'TRACE',      'UNBIND',      'UNLINK',\n            'UNLOCK',     'UNSUBSCRIBE'\n          ],\n          STATUS_CODES: {\n            '100': 'Continue',\n            '101': 'Switching Protocols',\n            '102': 'Processing',\n            '103': 'Early Hints',\n            '200': 'OK',\n            '201': 'Created',\n            '202': 'Accepted',\n            '203': 'Non-Authoritative Information',\n            '204': 'No Content',\n            '205': 'Reset Content',\n            '206': 'Partial Content',\n            '207': 'Multi-Status',\n            '208': 'Already Reported',\n            '226': 'IM Used',\n            '300': 'Multiple Choices',\n            '301': 'Moved Permanently',\n            '302': 'Found',\n            '303': 'See Other',\n            '304': 'Not Modified',\n            '305': 'Use Proxy',\n            '307': 'Temporary Redirect',\n            '308': 'Permanent Redirect',\n            '400': 'Bad Request',\n            '401': 'Unauthorized',\n            '402': 'Payment Required',\n            '403': 'Forbidden',\n            '404': 'Not Found',\n            '405': 'Method Not Allowed',\n            '406': 'Not Acceptable',\n            '407': 'Proxy Authentication Required',\n            '408': 'Request Timeout',\n            '409': 'Conflict',\n            '410': 'Gone',\n            '411': 'Length Required',\n            '412': 'Precondition Failed',\n            '413': 'Payload Too Large',\n            '414': 'URI Too Long',\n            '415': 'Unsupported Media Type',\n            '416': 'Range Not Satisfiable',\n            '417': 'Expectation Failed',\n            '418': \"I'm a Teapot\",\n            '421': 'Misdirected Request',\n            '422': 'Unprocessable Entity',\n            '423': 'Locked',\n            '424': 'Failed Dependency',\n            '425': 'Too Early',\n            '426': 'Upgrade Required',\n            '428': 'Precondition Required',\n            '429': 'Too Many Requests',\n            '431': 'Request Header Fields Too Large',\n            '451': 'Unavailable For Legal Reasons',\n            '500': 'Internal Server Error',\n            '501': 'Not Implemented',\n            '502': 'Bad Gateway',\n            '503': 'Service Unavailable',\n            '504': 'Gateway Timeout',\n            '505': 'HTTP Version Not Supported',\n            '506': 'Variant Also Negotiates',\n            '507': 'Insufficient Storage',\n            '508': 'Loop Detected',\n            '509': 'Bandwidth Limit Exceeded',\n            '510': 'Not Extended',\n            '511': 'Network Authentication Required'\n          },\n          Agent: [Function: Agent] { defaultMaxSockets: Infinity },\n          ClientRequest: [Function: ClientRequest],\n          IncomingMessage: [Function: IncomingMessage],\n          OutgoingMessage: [Function: OutgoingMessage],\n          Server: [Function: Server],\n          ServerResponse: [Function: ServerResponse],\n          createServer: [Function: createServer],\n          validateHeaderName: [Function: wrappedFn] {\n            withoutStackTrace: [Function (anonymous)]\n          },\n          validateHeaderValue: [Function: wrappedFn] {\n            withoutStackTrace: [Function (anonymous)]\n          },\n          get: [Function: get],\n          request: [Function: request],\n          setMaxIdleHTTPParsers: [Function: setMaxIdleHTTPParsers],\n          maxHeaderSize: [Getter],\n          globalAgent: [Getter/Setter],\n          WebSocket: [Getter],\n          CloseEvent: [Getter],\n          MessageEvent: [Getter]\n        },\n        'https:': {\n          Agent: [Function: Agent],\n          globalAgent: Agent {\n            _events: [Object: null prototype] {\n              free: [Function (anonymous)],\n              newListener: [Function: maybeEnableKeylog]\n            },\n            _eventsCount: 2,\n            _maxListeners: undefined,\n            defaultPort: 443,\n            protocol: 'https:',\n            options: [Object: null prototype] {\n              keepAlive: true,\n              scheduling: 'lifo',\n              timeout: 5000,\n              noDelay: true,\n              path: null\n            },\n            requests: [Object: null prototype] {},\n            sockets: [Object: null prototype] {},\n            freeSockets: [Object: null prototype] {},\n            keepAliveMsecs: 1000,\n            keepAlive: true,\n            maxSockets: Infinity,\n            maxFreeSockets: 256,\n            scheduling: 'lifo',\n            maxTotalSockets: Infinity,\n            totalSocketCount: 0,\n            maxCachedSessions: 100,\n            _sessionCache: { map: {}, list: [] },\n            [Symbol(shapeMode)]: false,\n            [Symbol(kCapture)]: false\n          },\n          Server: [Function: Server],\n          createServer: [Function: createServer],\n          get: [Function: get],\n          request: [Function: request]\n        }\n      },\n      pathname: '/vehicules/XY-456-ZW'\n    },\n    _ended: true,\n    _ending: true,\n    _redirectCount: 0,\n    _redirects: [],\n    _requestBodyLength: 0,\n    _requestBodyBuffers: [],\n    _eventsCount: 3,\n    _onNativeResponse: [Function (anonymous)],\n    _currentRequest: <ref *1> ClientRequest {\n      _events: [Object: null prototype] {\n        response: [Function: bound onceWrapper] {\n          listener: [Function (anonymous)]\n        },\n        abort: [Function (anonymous)],\n        aborted: [Function (anonymous)],\n        connect: [Function (anonymous)],\n        error: [Function (anonymous)],\n        socket: [Function (anonymous)],\n        timeout: [Function (anonymous)]\n      },\n      _eventsCount: 7,\n      _maxListeners: undefined,\n      outputData: [],\n      outputSize: 0,\n      writable: true,\n      destroyed: false,\n      _last: true,\n      chunkedEncoding: false,\n      shouldKeepAlive: true,\n      maxRequestsOnConnectionReached: false,\n      _defaultKeepAlive: true,\n      useChunkedEncodingByDefault: false,\n      sendDate: false,\n      _removedConnection: false,\n      _removedContLen: false,\n      _removedTE: false,\n      strictContentLength: false,\n      _contentLength: 0,\n      _hasBody: true,\n      _trailer: '',\n      finished: true,\n      _headerSent: true,\n      _closed: false,\n      _header: 'GET /vehicules/XY-456-ZW HTTP/1.1\\r\\n' +\n        'Accept: application/json, text/plain, */*\\r\\n' +\n        'User-Agent: axios/1.9.0\\r\\n' +\n        'Accept-Encoding: gzip, compress, deflate, br\\r\\n' +\n        'Host: localhost:8000\\r\\n' +\n        'Connection: keep-alive\\r\\n' +\n        '\\r\\n',\n      _keepAliveTimeout: 0,\n      _onPendingData: [Function: nop],\n      agent: Agent {\n        _events: [Object: null prototype] {\n          free: [Function (anonymous)],\n          newListener: [Function: maybeEnableKeylog]\n        },\n        _eventsCount: 2,\n        _maxListeners: undefined,\n        defaultPort: 80,\n        protocol: 'http:',\n        options: [Object: null prototype] {\n          keepAlive: true,\n          scheduling: 'lifo',\n          timeout: 5000,\n          noDelay: true,\n          path: null\n        },\n        requests: [Object: null prototype] {},\n        sockets: [Object: null prototype] {\n          'localhost:8000:': [\n            Socket {\n              connecting: false,\n              _hadError: true,\n              _parent: null,\n              _host: 'localhost',\n              _closeAfterHandlingError: false,\n              _events: {\n                close: [\n                  [Function: onClose],\n                  [Function: socketCloseListener],\n                  [Function: bound onceWrapper] {\n                    listener: [Function: onClose]\n                  }\n                ],\n                error: [Function: socketErrorListener],\n                prefinish: undefined,\n                finish: undefined,\n                drain: [Function: ondrain],\n                data: undefined,\n                end: [Function: onReadableStreamEnd],\n                readable: undefined,\n                connect: [\n                  [Function: bound onceWrapper] {\n                    listener: [Function (anonymous)]\n                  },\n                  [Function: bound onceWrapper] {\n                    listener: [Function: connect]\n                  },\n                  [Function: bound onceWrapper] {\n                    listener: [Function (anonymous)]\n                  }\n                ],\n                free: [Function: onFree],\n                timeout: [\n                  [Function: onTimeout],\n                  [Function: bound onceWrapper] {\n                    listener: [Function: emitRequestTimeout]\n                  }\n                ],\n                agentRemove: [Function: onRemove]\n              },\n              _readableState: ReadableState {\n                highWaterMark: 65536,\n                buffer: [],\n                bufferIndex: 0,\n                length: 0,\n                pipes: [],\n                awaitDrainWriters: null,\n                [Symbol(kState)]: 59777526,\n                [Symbol(kErroredValue)]: AggregateError [ECONNREFUSED]: \n                    at internalConnectMultiple (node:net:1139:18)\n                    at afterConnectMultiple (node:net:1712:7) {\n                  code: 'ECONNREFUSED',\n                  [errors]: [\n                    Error: connect ECONNREFUSED ::1:8000\n                        at createConnectionError (node:net:1675:14)\n                        at afterConnectMultiple (node:net:1705:16) {\n                      errno: -61,\n                      code: 'ECONNREFUSED',\n                      syscall: 'connect',\n                      address: '::1',\n                      port: 8000\n                    },\n                    Error: connect ECONNREFUSED 127.0.0.1:8000\n                        at createConnectionError (node:net:1675:14)\n                        at afterConnectMultiple (node:net:1705:16) {\n                      errno: -61,\n                      code: 'ECONNREFUSED',\n                      syscall: 'connect',\n                      address: '127.0.0.1',\n                      port: 8000\n                    }\n                  ]\n                }\n              },\n              _writableState: WritableState {\n                highWaterMark: 65536,\n                length: 197,\n                corked: 0,\n                onwrite: [Function: bound onwrite],\n                writelen: 197,\n                bufferedIndex: 0,\n                pendingcb: 1,\n                [Symbol(kState)]: 118260214,\n                [Symbol(kBufferedValue)]: null,\n                [Symbol(kWriteCbValue)]: [Function: bound onFinish],\n                [Symbol(kErroredValue)]: AggregateError [ECONNREFUSED]: \n                    at internalConnectMultiple (node:net:1139:18)\n                    at afterConnectMultiple (node:net:1712:7) {\n                  code: 'ECONNREFUSED',\n                  [errors]: [\n                    Error: connect ECONNREFUSED ::1:8000\n                        at createConnectionError (node:net:1675:14)\n                        at afterConnectMultiple (node:net:1705:16) {\n                      errno: -61,\n                      code: 'ECONNREFUSED',\n                      syscall: 'connect',\n                      address: '::1',\n                      port: 8000\n                    },\n                    Error: connect ECONNREFUSED 127.0.0.1:8000\n                        at createConnectionError (node:net:1675:14)\n                        at afterConnectMultiple (node:net:1705:16) {\n                      errno: -61,\n                      code: 'ECONNREFUSED',\n                      syscall: 'connect',\n                      address: '127.0.0.1',\n                      port: 8000\n                    }\n                  ]\n                }\n              },\n              allowHalfOpen: false,\n              _maxListeners: undefined,\n              _eventsCount: Utilisation de données de véhicule par défaut pour continuer le flux\n8,\n              _sockname: null,\n              _pendingData: 'GET /vehicules/XY-456-ZW HTTP/1.1\\r\\n' +\n                'Accept: application/json, text/plain, */*\\r\\n' +\n                'User-Agent: axios/1.9.0\\r\\n' +\n                'Accept-Encoding: gzip, compress, deflate, br\\r\\n' +\n                'Host: localhost:8000\\r\\n' +\n                'Connection: keep-alive\\r\\n' +\n                '\\r\\n',\n              _pendingEncoding: 'latin1',\n              server: null,\n              _server: null,\n              timeout: 5000,\n              parser: null,\n              _httpMessage: [Circular *1],\n              autoSelectFamilyAttemptedAddresses: [ '::1:8000', '127.0.0.1:8000' ],\n              [Symbol(async_id_symbol)]: 136,\n              [Symbol(kHandle)]: null,\n              [Symbol(lastWriteQueueSize)]: 0,\n              [Symbol(timeout)]: Timeout {\n                _idleTimeout: -1,\n                _idlePrev: null,\n                _idleNext: null,\n                _idleStart: 14204,\n                _onTimeout: null,\n                _timerArgs: undefined,\n                _repeat: null,\n                _destroyed: true,\n                [Symbol(refed)]: false,\n                [Symbol(kHasPrimitive)]: false,\n                [Symbol(asyncId)]: 126,\n                [Symbol(triggerId)]: 0,\n                [Symbol(kAsyncContextFrame)]: undefined\n              },\n              [Symbol(kBuffer)]: null,\n              [Symbol(kBufferCb)]: null,\n              [Symbol(kBufferGen)]: null,\n              [Symbol(shapeMode)]: true,\n              [Symbol(kCapture)]: false,\n              [Symbol(kSetNoDelay)]: true,\n              [Symbol(kSetKeepAlive)]: true,\n              [Symbol(kSetKeepAliveInitialDelay)]: 60,\n              [Symbol(kBytesRead)]: 0,\n              [Symbol(kBytesWritten)]: 0\n            }\n          ]\n        },\n        freeSockets: [Object: null prototype] {},\n        keepAliveMsecs: 1000,\n        keepAlive: true,\n        maxSockets: Infinity,\n        maxFreeSockets: 256,\n        scheduling: 'lifo',\n        maxTotalSockets: Infinity,\n        totalSocketCount: 1,\n        [Symbol(shapeMode)]: false,\n        [Symbol(kCapture)]: false\n      },\n      socketPath: undefined,\n      method: 'GET',\n      maxHeaderSize: undefined,\n      insecureHTTPParser: undefined,\n      joinDuplicateHeaders: undefined,\n      path: '/vehicules/XY-456-ZW',\n      _ended: false,\n      res: null,\n      aborted: false,\n      timeoutCb: [Function: emitRequestTimeout],\n      upgradeOrConnect: false,\n      parser: null,\n      maxHeadersCount: null,\n      reusedSocket: false,\n      host: 'localhost',\n      protocol: 'http:',\n      _redirectable: [Circular *2],\n      [Symbol(shapeMode)]: false,\n      [Symbol(kCapture)]: false,\n      [Symbol(kBytesWritten)]: 0,\n      [Symbol(kNeedDrain)]: false,\n      [Symbol(corked)]: 0,\n      [Symbol(kChunkedBuffer)]: [],\n      [Symbol(kChunkedLength)]: 0,\n      [Symbol(kSocket)]: Socket {\n        connecting: false,\n        _hadError: true,\n        _parent: null,\n        _host: 'localhost',\n        _closeAfterHandlingError: false,\n        _events: {\n          close: [\n            [Function: onClose],\n            [Function: socketCloseListener],\n            [Function: bound onceWrapper] {\n              listener: [Function: onClose]\n            }\n          ],\n          error: [Function: socketErrorListener],\n          prefinish: undefined,\n          finish: undefined,\n          drain: [Function: ondrain],\n          data: undefined,\n          end: [Function: onReadableStreamEnd],\n          readable: undefined,\n          connect: [\n            [Function: bound onceWrapper] {\n              listener: [Function (anonymous)]\n            },\n            [Function: bound onceWrapper] {\n              listener: [Function: connect]\n            },\n            [Function: bound onceWrapper] {\n              listener: [Function (anonymous)]\n            }\n          ],\n          free: [Function: onFree],\n          timeout: [\n            [Function: onTimeout],\n            [Function: bound onceWrapper] {\n              listener: [Function: emitRequestTimeout]\n            }\n          ],\n          agentRemove: [Function: onRemove]\n        },\n        _readableState: ReadableState {\n          highWaterMark: 65536,\n          buffer: [],\n          bufferIndex: 0,\n          length: 0,\n          pipes: [],\n          awaitDrainWriters: null,\n          [Symbol(kState)]: 59777526,\n          [Symbol(kErroredValue)]: AggregateError [ECONNREFUSED]: \n              at internalConnectMultiple (node:net:1139:18)\n              at afterConnectMultiple (node:net:1712:7) {\n            code: 'ECONNREFUSED',\n            [errors]: [\n              Error: connect ECONNREFUSED ::1:8000\n                  at createConnectionError (node:net:1675:14)\n                  at afterConnectMultiple (node:net:1705:16) {\n                errno: -61,\n                code: 'ECONNREFUSED',\n                syscall: 'connect',\n                address: '::1',\n                port: 8000\n              },\n              Error: connect ECONNREFUSED 127.0.0.1:8000\n                  at createConnectionError (node:net:1675:14)\n                  at afterConnectMultiple (node:net:1705:16) {\n                errno: -61,\n                code: 'ECONNREFUSED',\n                syscall: 'connect',\n                address: '127.0.0.1',\n                port: 8000\n              }\n            ]\n          }\n        },\n        _writableState: WritableState {\n          highWaterMark: 65536,\n          length: 197,\n          corked: 0,\n          onwrite: [Function: bound onwrite],\n          writelen: 197,\n          bufferedIndex: 0,\n          pendingcb: 1,\n          [Symbol(kState)]: 118260214,\n          [Symbol(kBufferedValue)]: null,\n          [Symbol(kWriteCbValue)]: [Function: bound onFinish],\n          [Symbol(kErroredValue)]: AggregateError [ECONNREFUSED]: \n              at internalConnectMultiple (node:net:1139:18)\n              at afterConnectMultiple (node:net:1712:7) {\n            code: 'ECONNREFUSED',\n            [errors]: [\n              Error: connect ECONNREFUSED ::1:8000\n                  at createConnectionError (node:net:1675:14)\n                  at afterConnectMultiple (node:net:1705:16) {\n                errno: -61,\n                code: 'ECONNREFUSED',\n                syscall: 'connect',\n                address: '::1',\n                port: 8000\n              },\n              Error: connect ECONNREFUSED 127.0.0.1:8000\n                  at createConnectionError (node:net:1675:14)\n                  at afterConnectMultiple (node:net:1705:16) {\n                errno: -61,\n                code: 'ECONNREFUSED',\n                syscall: 'connect',\n                address: '127.0.0.1',\n                port: 8000\n              }\n            ]\n          }\n        },\n        allowHalfOpen: false,\n        _maxListeners: undefined,\n        _eventsCount: 8,\n        _sockname: null,\n        _pendingData: 'GET /vehicules/XY-456-ZW HTTP/1.1\\r\\n' +\n          'Accept: application/json, text/plain, */*\\r\\n' +\n          'User-Agent: axios/1.9.0\\r\\n' +\n          'Accept-Encoding: gzip, compress, deflate, br\\r\\n' +\n          'Host: localhost:8000\\r\\n' +\n          'Connection: keep-alive\\r\\n' +\n          '\\r\\n',\n        _pendingEncoding: 'latin1',\n        server: null,\n        _server: null,\n        timeout: 5000,\n        parser: null,\n        _httpMessage: [Circular *1],\n        autoSelectFamilyAttemptedAddresses: [ '::1:8000', '127.0.0.1:8000' ],\n        [Symbol(async_id_symbol)]: 136,\n        [Symbol(kHandle)]: null,\n        [Symbol(lastWriteQueueSize)]: 0,\n        [Symbol(timeout)]: Timeout {\n          _idleTimeout: -1,\n          _idlePrev: null,\n          _idleNext: null,\n          _idleStart: 14204,\n          _onTimeout: null,\n          _timerArgs: undefined,\n          _repeat: null,\n          _destroyed: true,\n          [Symbol(refed)]: false,\n          [Symbol(kHasPrimitive)]: false,\n          [Symbol(asyncId)]: 126,\n          [Symbol(triggerId)]: 0,\n          [Symbol(kAsyncContextFrame)]: undefined\n        },\n        [Symbol(kBuffer)]: null,\n        [Symbol(kBufferCb)]: null,\n        [Symbol(kBufferGen)]: null,\n        [Symbol(shapeMode)]: true,\n        [Symbol(kCapture)]: false,\n        [Symbol(kSetNoDelay)]: true,\n        [Symbol(kSetKeepAlive)]: true,\n        [Symbol(kSetKeepAliveInitialDelay)]: 60,\n        [Symbol(kBytesRead)]: 0,\n        [Symbol(kBytesWritten)]: 0\n      },\n      [Symbol(kOutHeaders)]: [Object: null prototype] {\n        accept: [ 'Accept', 'application/json, text/plain, */*' ],\n        'user-agent': [ 'User-Agent', 'axios/1.9.0' ],\n        'accept-encoding': [ 'Accept-Encoding', 'gzip, compress, deflate, br' ],\n        host: [ 'Host', 'localhost:8000' ]\n      },\n      [Symbol(errored)]: null,\n      [Symbol(kHighWaterMark)]: 65536,\n      [Symbol(kRejectNonStandardBodyWrites)]: false,\n      [Symbol(kUniqueHeaders)]: null\n    },\n    _currentUrl: 'http://localhost:8000/vehicules/XY-456-ZW',\n    [Symbol(shapeMode)]: true,\n    [Symbol(kCapture)]: false\n  },\n  cause: AggregateError [ECONNREFUSED]: \n      at internalConnectMultiple (node:net:1139:18)\n      at afterConnectMultiple (node:net:1712:7) {\n    code: 'ECONNREFUSED',\n    [errors]: [\n      Error: connect ECONNREFUSED ::1:8000\n          at createConnectionError (node:net:1675:14)\n          at afterConnectMultiple (node:net:1705:16) {\n        errno: -61,\n        code: 'ECONNREFUSED',\n        syscall: 'connect',\n        address: '::1',\n        port: 8000\n      },\n      Error: connect ECONNREFUSED 127.0.0.1:8000\n          at createConnectionError (node:net:1675:14)\n          at afterConnectMultiple (node:net:1705:16) {\n        errno: -61,\n        code: 'ECONNREFUSED',\n        syscall: 'connect',\n        address: '127.0.0.1',\n        port: 8000\n      }\n    ]\n  }\n}\nÉtat de la conversation mis à jour: {\n  service: 'pneus',\n  jour: 'mardi',\n  horaire: 'après-midi',\n  garage: 'Nice',\n  confirmed: true,\n  licensePlate: 'XY-456-ZW',\n  vehiculeModel: 'Clio',\n  vehiculeBrand: 'Renault',\n  askingForLicensePlate: false\n}\n🤖 Chatbot: Nous proposons principalement des services de vidange (494€), changement de pneus (1062€) et contrôle technique (439€). Quel service vous intéresse ?\n=======================================\n✅ SCÉNARIO RÉUSSI: Rendez-vous pneus avec questions de prix\n\n🚀 DÉBUT DU SCÉNARIO: Demande compliquée avec changement d'avis\n=======================================\n\n📝 ÉTAPE 1/8\n🧑 Utilisateur: J'ai un problème avec mes freins, ça fait un bruit bizarre\nÉtat de la conversation mis à jour: {\n  service: 'freins',\n  jour: null,\n  horaire: null,\n  garage: null,\n  confirmed: false,\n  licensePlate: null,\n  vehiculeModel: null,\n  vehiculeBrand: null,\n  askingForLicensePlate: false\n}\n🤖 Chatbot: Pour votre freins, quel jour vous conviendrait ? Nous avons des disponibilités cette semaine et la semaine prochaine.\n\n📝 ÉTAPE 2/8\n🧑 Utilisateur: Vous avez aussi la climatisation ?\nÉtat de la conversation mis à jour: {\n  service: 'climatisation',\n  jour: null,\n  horaire: null,\n  garage: null,\n  confirmed: false,\n  licensePlate: null,\n  vehiculeModel: null,\n  vehiculeBrand: null,\n  askingForLicensePlate: false\n}\n🤖 Chatbot: Pour votre climatisation, quel jour vous conviendrait ? Nous avons des disponibilités cette semaine et la semaine prochaine.\n\n📝 ÉTAPE 3/8\n🧑 Utilisateur: Finalement je préfère faire d'abord les freins pour lundi\nÉtat de la conversation mis à jour: {\n  service: 'freins',\n  jour: 'lundi',\n  horaire: null,\n  garage: null,\n  confirmed: false,\n  licensePlate: null,\n  vehiculeModel: null,\n  vehiculeBrand: null,\n  askingForLicensePlate: false\n}\n🤖 Chatbot: Pour votre freins le lundi, préférez-vous le matin ou l'après-midi ?\n\n📝 ÉTAPE 4/8\n🧑 Utilisateur: Le matin me convient mieux\nÉtat de la conversation mis à jour: {\n  service: 'freins',\n  jour: 'lundi',\n  horaire: 'matin',\n  garage: null,\n  confirmed: false,\n  licensePlate: null,\n  vehiculeModel: null,\n  vehiculeBrand: null,\n  askingForLicensePlate: false\n}\n🤖 Chatbot: Dans quel garage souhaitez-vous prendre rendez-vous : Lyon ou Nice ?\n\n📝 ÉTAPE 5/8\n🧑 Utilisateur: Le garage de Lyon\nÉtat de la conversation mis à jour: {\n  service: 'freins',\n  jour: 'lundi',\n  horaire: 'matin',\n  garage: 'Lyon',\n  confirmed: false,\n  licensePlate: null,\n  vehiculeModel: null,\n  vehiculeBrand: null,\n  askingForLicensePlate: false\n}\n🤖 Chatbot: Nous avons un créneau disponible à Lyon le lundi matin pour freins. Le prix sera de 362€. Pour finaliser votre rendez-vous, pourriez-vous indiquer votre plaque d'immatriculation au format AA-123-AA ?\n\n📝 ÉTAPE 6/8\n🧑 Utilisateur: Oui, ça me va\nÉtat de la conversation mis à jour: {\n  service: 'freins',\n  jour: 'lundi',\n  horaire: 'matin',\n  garage: 'Lyon',\n  confirmed: false,\n  licensePlate: null,\n  vehiculeModel: null,\n  vehiculeBrand: null,\n  askingForLicensePlate: true\n}\n🤖 Chatbot: Pour finaliser votre rendez-vous, pourriez-vous indiquer votre plaque d'immatriculation au format AA-123-AA ?\n\n📝 ÉTAPE 7/8\n🧑 Utilisateur: FF-789-HH\nRecherche véhicule avec plaque: FF789HH (format original: FF-789-HH)\nÉtat de la conversation mis à jour: {\n  service: 'freins',\n  jour: 'lundi',\n  horaire: 'matin',\n  garage: 'Lyon',\n  confirmed: false,\n  licensePlate: 'FF-789-HH',\n  vehiculeModel: null,\n  vehiculeBrand: null,\n  askingForLicensePlate: true\n}\n🤖 Chatbot: Merci pour votre plaque d'immatriculation FF-789-HH. Nous recherchons les informations de votre véhicule Renault Clio. Est-ce bien votre véhicule ?\n\n📝 ÉTAPE 8/8\n🧑 Utilisateur: Oui c'est ma voiture\nErreur lors de la récupération des informations du véhicule: AxiosError [AggregateError]\n    at AxiosError.from (/Users/jeremypoulain/Documents/Hackaton/Chatbot/node_modules/axios/dist/node/axios.cjs:863:14)\n    at RedirectableRequest.handleRequestError (/Users/jeremypoulain/Documents/Hackaton/Chatbot/node_modules/axios/dist/node/axios.cjs:3187:25)\n    at RedirectableRequest.emit (node:events:507:28)\n    at eventHandlers.<computed> (/Users/jeremypoulain/Documents/Hackaton/Chatbot/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:507:28)\n    at emitErrorEvent (node:_http_client:104:11)\n    at Socket.socketErrorListener (node:_http_client:518:5)\n    at Socket.emit (node:events:507:28)\n    at emitErrorNT (node:internal/streams/destroy:170:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:129:3)\n    at Axios.request (/Users/jeremypoulain/Documents/Hackaton/Chatbot/node_modules/axios/dist/node/axios.cjs:4276:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getVehiculeInfo (/Users/jeremypoulain/Documents/Hackaton/Chatbot/orchestrator.js:335:22) {\n  code: 'ECONNREFUSED',\n  errors: [\n    Error: connect ECONNREFUSED ::1:8000\n        at createConnectionError (node:net:1675:14)\n        at afterConnectMultiple (node:net:1705:16) {\n      errno: -61,\n      code: 'ECONNREFUSED',\n      syscall: 'connect',\n      address: '::1',\n      port: 8000\n    },\n    Error: connect ECONNREFUSED 127.0.0.1:8000\n        at createConnectionError (node:net:1675:14)\n        at afterConnectMultiple (node:net:1705:16) {\n      errno: -61,\n      code: 'ECONNREFUSED',\n      syscall: 'connect',\n      address: '127.0.0.1',\n      port: 8000\n    }\n  ],\n  config: {\n    transitional: {\n      silentJSONParsing: true,\n      forcedJSONParsing: true,\n      clarifyTimeoutError: false\n    },\n    adapter: [ 'xhr', 'http', 'fetch' ],\n    transformRequest: [ [Function: transformRequest] ],\n    transformResponse: [ [Function: transformResponse] ],\n    timeout: 0,\n    xsrfCookieName: 'XSRF-TOKEN',\n    xsrfHeaderName: 'X-XSRF-TOKEN',\n    maxContentLength: -1,\n    maxBodyLength: -1,\n    env: {\n      FormData: [Function: FormData] [FormData] {\n        LINE_BREAK: '\\r\\n',\n        DEFAULT_CONTENT_TYPE: 'application/octet-stream'\n      },\n      Blob: [class Blob]\n    },\n    validateStatus: [Function: validateStatus],\n    headers: Object [AxiosHeaders] {\n      Accept: 'application/json, text/plain, */*',\n      'Content-Type': undefined,\n      'User-Agent': 'axios/1.9.0',\n      'Accept-Encoding': 'gzip, compress, deflate, br'\n    },\n    method: 'get',\n    url: 'http://localhost:8000/vehicules/FF-789-HH',\n    allowAbsoluteUrls: true,\n    data: undefined\n  },\n  request: <ref *2> Writable {\n    _events: {\n      close: undefined,\n      error: [Function: handleRequestError],\n      prefinish: undefined,\n      finish: undefined,\n      drain: undefined,\n      response: [Function: handleResponse],\n      socket: [Function: handleRequestSocket]\n    },\n    _writableState: WritableState {\n      highWaterMark: 65536,\n      length: 0,\n      corked: 0,\n      onwrite: [Function: bound onwrite],\n      writelen: 0,\n      bufferedIndex: 0,\n      pendingcb: 0,\n      [Symbol(kState)]: 17580812,\n      [Symbol(kBufferedValue)]: null\n    },\n    _maxListeners: undefined,\n    _options: {\n      maxRedirects: 21,\n      maxBodyLength: Infinity,\n      protocol: 'http:',\n      path: '/vehicules/FF-789-HH',\n      method: 'GET',\n      headers: [Object: null prototype] {\n        Accept: 'application/json, text/plain, */*',\n        'User-Agent': 'axios/1.9.0',\n        'Accept-Encoding': 'gzip, compress, deflate, br'\n      },\n      agents: { http: undefined, https: undefined },\n      auth: undefined,\n      family: undefined,\n      beforeRedirect: [Function: dispatchBeforeRedirect],\n      beforeRedirects: { proxy: [Function: beforeRedirect] },\n      hostname: 'localhost',\n      port: '8000',\n      agent: undefined,\n      nativeProtocols: {\n        'http:': {\n          _connectionListener: [Function: connectionListener],\n          METHODS: [\n            'ACL',        'BIND',        'CHECKOUT',\n            'CONNECT',    'COPY',        'DELETE',\n            'GET',        'HEAD',        'LINK',\n            'LOCK',       'M-SEARCH',    'MERGE',\n            'MKACTIVITY', 'MKCALENDAR',  'MKCOL',\n            'MOVE',       'NOTIFY',      'OPTIONS',\n            'PATCH',      'POST',        'PROPFIND',\n            'PROPPATCH',  'PURGE',       'PUT',\n            'QUERY',      'REBIND',      'REPORT',\n            'SEARCH',     'SOURCE',      'SUBSCRIBE',\n            'TRACE',      'UNBIND',      'UNLINK',\n            'UNLOCK',     'UNSUBSCRIBE'\n          ],\n          STATUS_CODES: {\n            '100': 'Continue',\n            '101': 'Switching Protocols',\n            '102': 'Processing',\n            '103': 'Early Hints',\n            '200': 'OK',\n            '201': 'Created',\n            '202': 'Accepted',\n            '203': 'Non-Authoritative Information',\n            '204': 'No Content',\n            '205': 'Reset Content',\n            '206': 'Partial Content',\n            '207': 'Multi-Status',\n            '208': 'Already Reported',\n            '226': 'IM Used',\n            '300': 'Multiple Choices',\n            '301': 'Moved Permanently',\n            '302': 'Found',\n            '303': 'See Other',\n            '304': 'Not Modified',\n            '305': 'Use Proxy',\n            '307': 'Temporary Redirect',\n            '308': 'Permanent Redirect',\n            '400': 'Bad Request',\n            '401': 'Unauthorized',\n            '402': 'Payment Required',\n            '403': 'Forbidden',\n            '404': 'Not Found',\n            '405': 'Method Not Allowed',\n            '406': 'Not Acceptable',\n            '407': 'Proxy Authentication Required',\n            '408': 'Request Timeout',\n            '409': 'Conflict',\n            '410': 'Gone',\n            '411': 'Length Required',\n            '412': 'Precondition Failed',\n            '413': 'Payload Too Large',\n            '414': 'URI Too Long',\n            '415': 'Unsupported Media Type',\n            '416': 'Range Not Satisfiable',\n            '417': 'Expectation Failed',\n            '418': \"I'm a Teapot\",\n            '421': 'Misdirected Request',\n            '422': 'Unprocessable Entity',\n            '423': 'Locked',\n            '424': 'Failed Dependency',\n            '425': 'Too Early',\n            '426': 'Upgrade Required',\n            '428': 'Precondition Required',\n            '429': 'Too Many Requests',\n            '431': 'Request Header Fields Too Large',\n            '451': 'Unavailable For Legal Reasons',\n            '500': 'Internal Server Error',\n            '501': 'Not Implemented',\n            '502': 'Bad Gateway',\n            '503': 'Service Unavailable',\n            '504': 'Gateway Timeout',\n            '505': 'HTTP Version Not Supported',\n            '506': 'Variant Also Negotiates',\n            '507': 'Insufficient Storage',\n            '508': 'Loop Detected',\n            '509': 'Bandwidth Limit Exceeded',\n            '510': 'Not Extended',\n            '511': 'Network Authentication Required'\n          },\n          Agent: [Function: Agent] { defaultMaxSockets: Infinity },\n          ClientRequest: [Function: ClientRequest],\n          IncomingMessage: [Function: IncomingMessage],\n          OutgoingMessage: [Function: OutgoingMessage],\n          Server: [Function: Server],\n          ServerResponse: [Function: ServerResponse],\n          createServer: [Function: createServer],\n          validateHeaderName: [Function: wrappedFn] {\n            withoutStackTrace: [Function (anonymous)]\n          },\n          validateHeaderValue: [Function: wrappedFn] {\n            withoutStackTrace: [Function (anonymous)]\n          },\n          get: [Function: get],\n          request: [Function: request],\n          setMaxIdleHTTPParsers: [Function: setMaxIdleHTTPParsers],\n          maxHeaderSize: [Getter],\n          globalAgent: [Getter/Setter],\n          WebSocket: [Getter],\n          CloseEvent: [Getter],\n          MessageEvent: [Getter]\n        },\n        'https:': {\n          Agent: [Function: Agent],\n          globalAgent: Agent {\n            _events: [Object: null prototype] {\n              free: [Function (anonymous)],\n              newListener: [Function: maybeEnableKeylog]\n            },\n            _eventsCount: 2,\n            _maxListeners: undefined,\n            defaultPort: 443,\n            protocol: 'https:',\n            options: [Object: null prototype] {\n              keepAlive: true,\n              scheduling: 'lifo',\n              timeout: 5000,\n              noDelay: true,\n              path: null\n            },\n            requests: [Object: null prototype] {},\n            sockets: [Object: null prototype] {},\n            freeSockets: [Object: null prototype] {},\n            keepAliveMsecs: 1000,\n            keepAlive: true,\n            maxSockets: Infinity,\n            maxFreeSockets: 256,\n            scheduling: 'lifo',\n            maxTotalSockets: Infinity,\n            totalSocketCount: 0,\n            maxCachedSessions: 100,\n            _sessionCache: { map: {}, list: [] },\n            [Symbol(shapeMode)]: false,\n            [Symbol(kCapture)]: false\n          },\n          Server: [Function: Server],\n          createServer: [Function: createServer],\n          get: [Function: get],\n          request: [Function: request]\n        }\n      },\n      pathname: '/vehicules/FF-789-HH'\n    },\n    _ended: true,\n    _ending: true,\n    _redirectCount: 0,\n    _redirects: [],\n    _requestBodyLength: 0,\n    _requestBodyBuffers: [],\n    _eventsCount: 3,\n    _onNativeResponse: [Function (anonymous)],\n    _currentRequest: <ref *1> ClientRequest {\n      _events: [Object: null prototype] {\n        response: [Function: bound onceWrapper] {\n          listener: [Function (anonymous)]\n        },\n        abort: [Function (anonymous)],\n        aborted: [Function (anonymous)],\n        connect: [Function (anonymous)],\n        error: [Function (anonymous)],\n        socket: [Function (anonymous)],\n        timeout: [Function (anonymous)]\n      },\n      _eventsCount: 7,\n      _maxListeners: undefined,\n      outputData: [],\n      outputSize: 0,\n      writable: true,\n      destroyed: false,\n      _last: true,\n      chunkedEncoding: false,\n      shouldKeepAlive: true,\n      maxRequestsOnConnectionReached: false,\n      _defaultKeepAlive: true,\n      useChunkedEncodingByDefault: false,\n      sendDate: false,\n      _removedConnection: false,\n      _removedContLen: false,\n      _removedTE: false,\n      strictContentLength: false,\n      _contentLength: 0,\n      _hasBody: true,\n      _trailer: '',\n      finished: true,\n      _headerSent: true,\n      _closed: false,\n      _header: 'GET /vehicules/FF-789-HH HTTP/1.1\\r\\n' +\n        'Accept: application/json, text/plain, */*\\r\\n' +\n        'User-Agent: axios/1.9.0\\r\\n' +\n        'Accept-Encoding: gzip, compress, deflate, br\\r\\n' +\n        'Host: localhost:8000\\r\\n' +\n        'Connection: keep-alive\\r\\n' +\n        '\\r\\n',\n      _keepAliveTimeout: 0,\n      _onPendingData: [Function: nop],\n      agent: Agent {\n        _events: [Object: null prototype] {\n          free: [Function (anonymous)],\n          newListener: [Function: maybeEnableKeylog]\n        },\n        _eventsCount: 2,\n        _maxListeners: undefined,\n        defaultPort: 80,\n        protocol: 'http:',\n        options: [Object: null prototype] {\n          keepAlive: true,\n          scheduling: 'lifo',\n          timeout: 5000,\n          noDelay: true,\n          path: null\n        },\n        requests: [Object: null prototype] {},\n        sockets: [Object: null prototype] {\n          'localhost:8000:': [\n            Socket {\n              connecting: false,\n              _hadError: true,\n              _parent: null,\n              _host: 'localhost',\n              _closeAfterHandlingError: false,\n              _events: {\n                close: [\n                  [Function: onClose],\n                  [Function: socketCloseListener],\n                  [Function: bound onceWrapper] {\n                    listener: [Function: onClose]\n                  }\n                ],\n                error: [Function: socketErrorListener],\n                prefinish: undefined,\n                finish: undefined,\n                drain: [Function: ondrain],\n                data: undefined,\n                end: [Function: onReadableStreamEnd],\n                readable: undefined,\n                connect: [\n                  [Function: bound onceWrapper] {\n                    listener: [Function (anonymous)]\n                  },\n                  [Function: bound onceWrapper] {\n                    listener: [Function: connect]\n                  },\n                  [Function: bound onceWrapper] {\n                    listener: [Function (anonymous)]\n                  }\n                ],\n                free: [Function: onFree],\n                timeout: [\n                  [Function: onTimeout],\n                  [Function: bound onceWrapper] {\n                    listener: [Function: emitRequestTimeout]\n                  }\n                ],\n                agentRemove: [Function: onRemove]\n              },\n              _readableState: ReadableState {\n                highWaterMark: 65536,\n                buffer: [],\n                bufferIndex: 0,\n                length: 0,\n                pipes: [],\n                awaitDrainWriters: null,\n                [Symbol(kState)]: 59777526,\n                [Symbol(kErroredValue)]: AggregateError [ECONNREFUSED]: \n                    at internalConnectMultiple (node:net:1139:18)\n                    at afterConnectMultiple (node:net:1712:7) {\n                  code: 'ECONNREFUSED',\n                  [errors]: [\n                    Error: connect ECONNREFUSED ::1:8000\n                        at createConnectionError (node:net:1675:14)\n                        at afterConnectMultiple (node:net:1705:16) {\n                      errno: -61,\n                      code: 'ECONNREFUSED',\n                      syscall: 'connect',\n                      address: '::1',\n                      port: 8000\n                    },\n                    Error: connect ECONNREFUSED 127.0.0.1:8000\n                        at createConnectionError (node:net:1675:14)\n                        at afterConnectMultiple (node:net:1705:16) {\n                      errno: -61,\n                      code: 'ECONNREFUSED',\n                      syscall: 'connect',\n                      address: '127.0.0.1',\n                      port: 8000\n                    }\n                  ]\n                }\n              },\n              _writableState: WritableState {\n                highWaterMark: 65536,\n                length: 197,\n                corked: 0,\n                onwrite: [Function: bound onwrite],\n                writelen: 197,\n                bufferedIndex: 0,\n                pendingcb: 1,\n                [Symbol(kState)]: 118260214,\n                [Symbol(kBufferedValue)]: null,\n                [Symbol(kWriteCbValue)]: [Function: bound onFinish],\n                [Symbol(kErroredValue)]: AggregateError [ECONNREFUSED]: \n                    at internalConnectMultiple (node:net:1139:18)\n                    at afterConnectMultiple (node:net:1712:7) {\n                  code: 'ECONNREFUSED',\n                  [errors]: [\n                    Error: connect ECONNREFUSED ::1:8000\n                        at createConnectionError (node:net:1675:14)\n                        at afterConnectMultiple (node:net:1705:16) {\n                      errno: -61,\n                      code: 'ECONNREFUSED',\n                      syscall: 'connect',\n                      address: '::1',\n                      port: 8000\n                    },\n                    Error: connect ECONNREFUSED 127.0.0.1:8000\n                        at createConnectionError (node:net:1675:14)\n                        at afterConnectMultiple (node:net:1705:16) {\n                      errno: -61,\n                      code: 'ECONNREFUSED',\n                      syscall: 'connect',\n                      address: '127.0.0.1',\n                      port: 8000\n                    }\n                  ]\n                }\n              },\n              allowHalfOpen: false,\n              _maxListeners: undefined,\n              _eventsCount: Utilisation de données de véhicule par défaut pour continuer le flux\n8,\n              _sockname: null,\n              _pendingData: 'GET /vehicules/FF-789-HH HTTP/1.1\\r\\n' +\n                'Accept: application/json, text/plain, */*\\r\\n' +\n                'User-Agent: axios/1.9.0\\r\\n' +\n                'Accept-Encoding: gzip, compress, deflate, br\\r\\n' +\n                'Host: localhost:8000\\r\\n' +\n                'Connection: keep-alive\\r\\n' +\n                '\\r\\n',\n              _pendingEncoding: 'latin1',\n              server: null,\n              _server: null,\n              timeout: 5000,\n              parser: null,\n              _httpMessage: [Circular *1],\n              autoSelectFamilyAttemptedAddresses: [ '::1:8000', '127.0.0.1:8000' ],\n              [Symbol(async_id_symbol)]: 168,\n              [Symbol(kHandle)]: null,\n              [Symbol(lastWriteQueueSize)]: 0,\n              [Symbol(timeout)]: Timeout {\n                _idleTimeout: -1,\n                _idlePrev: null,\n                _idleNext: null,\n                _idleStart: 24216,\n                _onTimeout: null,\n                _timerArgs: undefined,\n                _repeat: null,\n                _destroyed: true,\n                [Symbol(refed)]: false,\n                [Symbol(kHasPrimitive)]: false,\n                [Symbol(asyncId)]: 158,\n                [Symbol(triggerId)]: 0,\n                [Symbol(kAsyncContextFrame)]: undefined\n              },\n              [Symbol(kBuffer)]: null,\n              [Symbol(kBufferCb)]: null,\n              [Symbol(kBufferGen)]: null,\n              [Symbol(shapeMode)]: true,\n              [Symbol(kCapture)]: false,\n              [Symbol(kSetNoDelay)]: true,\n              [Symbol(kSetKeepAlive)]: true,\n              [Symbol(kSetKeepAliveInitialDelay)]: 60,\n              [Symbol(kBytesRead)]: 0,\n              [Symbol(kBytesWritten)]: 0\n            }\n          ]\n        },\n        freeSockets: [Object: null prototype] {},\n        keepAliveMsecs: 1000,\n        keepAlive: true,\n        maxSockets: Infinity,\n        maxFreeSockets: 256,\n        scheduling: 'lifo',\n        maxTotalSockets: Infinity,\n        totalSocketCount: 1,\n        [Symbol(shapeMode)]: false,\n        [Symbol(kCapture)]: false\n      },\n      socketPath: undefined,\n      method: 'GET',\n      maxHeaderSize: undefined,\n      insecureHTTPParser: undefined,\n      joinDuplicateHeaders: undefined,\n      path: '/vehicules/FF-789-HH',\n      _ended: false,\n      res: null,\n      aborted: false,\n      timeoutCb: [Function: emitRequestTimeout],\n      upgradeOrConnect: false,\n      parser: null,\n      maxHeadersCount: null,\n      reusedSocket: false,\n      host: 'localhost',\n      protocol: 'http:',\n      _redirectable: [Circular *2],\n      [Symbol(shapeMode)]: false,\n      [Symbol(kCapture)]: false,\n      [Symbol(kBytesWritten)]: 0,\n      [Symbol(kNeedDrain)]: false,\n      [Symbol(corked)]: 0,\n      [Symbol(kChunkedBuffer)]: [],\n      [Symbol(kChunkedLength)]: 0,\n      [Symbol(kSocket)]: Socket {\n        connecting: false,\n        _hadError: true,\n        _parent: null,\n        _host: 'localhost',\n        _closeAfterHandlingError: false,\n        _events: {\n          close: [\n            [Function: onClose],\n            [Function: socketCloseListener],\n            [Function: bound onceWrapper] {\n              listener: [Function: onClose]\n            }\n          ],\n          error: [Function: socketErrorListener],\n          prefinish: undefined,\n          finish: undefined,\n          drain: [Function: ondrain],\n          data: undefined,\n          end: [Function: onReadableStreamEnd],\n          readable: undefined,\n          connect: [\n            [Function: bound onceWrapper] {\n              listener: [Function (anonymous)]\n            },\n            [Function: bound onceWrapper] {\n              listener: [Function: connect]\n            },\n            [Function: bound onceWrapper] {\n              listener: [Function (anonymous)]\n            }\n          ],\n          free: [Function: onFree],\n          timeout: [\n            [Function: onTimeout],\n            [Function: bound onceWrapper] {\n              listener: [Function: emitRequestTimeout]\n            }\n          ],\n          agentRemove: [Function: onRemove]\n        },\n        _readableState: ReadableState {\n          highWaterMark: 65536,\n          buffer: [],\n          bufferIndex: 0,\n          length: 0,\n          pipes: [],\n          awaitDrainWriters: null,\n          [Symbol(kState)]: 59777526,\n          [Symbol(kErroredValue)]: AggregateError [ECONNREFUSED]: \n              at internalConnectMultiple (node:net:1139:18)\n              at afterConnectMultiple (node:net:1712:7) {\n            code: 'ECONNREFUSED',\n            [errors]: [\n              Error: connect ECONNREFUSED ::1:8000\n                  at createConnectionError (node:net:1675:14)\n                  at afterConnectMultiple (node:net:1705:16) {\n                errno: -61,\n                code: 'ECONNREFUSED',\n                syscall: 'connect',\n                address: '::1',\n                port: 8000\n              },\n              Error: connect ECONNREFUSED 127.0.0.1:8000\n                  at createConnectionError (node:net:1675:14)\n                  at afterConnectMultiple (node:net:1705:16) {\n                errno: -61,\n                code: 'ECONNREFUSED',\n                syscall: 'connect',\n                address: '127.0.0.1',\n                port: 8000\n              }\n            ]\n          }\n        },\n        _writableState: WritableState {\n          highWaterMark: 65536,\n          length: 197,\n          corked: 0,\n          onwrite: [Function: bound onwrite],\n          writelen: 197,\n          bufferedIndex: 0,\n          pendingcb: 1,\n          [Symbol(kState)]: 118260214,\n          [Symbol(kBufferedValue)]: null,\n          [Symbol(kWriteCbValue)]: [Function: bound onFinish],\n          [Symbol(kErroredValue)]: AggregateError [ECONNREFUSED]: \n              at internalConnectMultiple (node:net:1139:18)\n              at afterConnectMultiple (node:net:1712:7) {\n            code: 'ECONNREFUSED',\n            [errors]: [\n              Error: connect ECONNREFUSED ::1:8000\n                  at createConnectionError (node:net:1675:14)\n                  at afterConnectMultiple (node:net:1705:16) {\n                errno: -61,\n                code: 'ECONNREFUSED',\n                syscall: 'connect',\n                address: '::1',\n                port: 8000\n              },\n              Error: connect ECONNREFUSED 127.0.0.1:8000\n                  at createConnectionError (node:net:1675:14)\n                  at afterConnectMultiple (node:net:1705:16) {\n                errno: -61,\n                code: 'ECONNREFUSED',\n                syscall: 'connect',\n                address: '127.0.0.1',\n                port: 8000\n              }\n            ]\n          }\n        },\n        allowHalfOpen: false,\n        _maxListeners: undefined,\n        _eventsCount: 8,\n        _sockname: null,\n        _pendingData: 'GET /vehicules/FF-789-HH HTTP/1.1\\r\\n' +\n          'Accept: application/json, text/plain, */*\\r\\n' +\n          'User-Agent: axios/1.9.0\\r\\n' +\n          'Accept-Encoding: gzip, compress, deflate, br\\r\\n' +\n          'Host: localhost:8000\\r\\n' +\n          'Connection: keep-alive\\r\\n' +\n          '\\r\\n',\n        _pendingEncoding: 'latin1',\n        server: null,\n        _server: null,\n        timeout: 5000,\n        parser: null,\n        _httpMessage: [Circular *1],\n        autoSelectFamilyAttemptedAddresses: [ '::1:8000', '127.0.0.1:8000' ],\n        [Symbol(async_id_symbol)]: 168,\n        [Symbol(kHandle)]: null,\n        [Symbol(lastWriteQueueSize)]: 0,\n        [Symbol(timeout)]: Timeout {\n          _idleTimeout: -1,\n          _idlePrev: null,\n          _idleNext: null,\n          _idleStart: 24216,\n          _onTimeout: null,\n          _timerArgs: undefined,\n          _repeat: null,\n          _destroyed: true,\n          [Symbol(refed)]: false,\n          [Symbol(kHasPrimitive)]: false,\n          [Symbol(asyncId)]: 158,\n          [Symbol(triggerId)]: 0,\n          [Symbol(kAsyncContextFrame)]: undefined\n        },\n        [Symbol(kBuffer)]: null,\n        [Symbol(kBufferCb)]: null,\n        [Symbol(kBufferGen)]: null,\n        [Symbol(shapeMode)]: true,\n        [Symbol(kCapture)]: false,\n        [Symbol(kSetNoDelay)]: true,\n        [Symbol(kSetKeepAlive)]: true,\n        [Symbol(kSetKeepAliveInitialDelay)]: 60,\n        [Symbol(kBytesRead)]: 0,\n        [Symbol(kBytesWritten)]: 0\n      },\n      [Symbol(kOutHeaders)]: [Object: null prototype] {\n        accept: [ 'Accept', 'application/json, text/plain, */*' ],\n        'user-agent': [ 'User-Agent', 'axios/1.9.0' ],\n        'accept-encoding': [ 'Accept-Encoding', 'gzip, compress, deflate, br' ],\n        host: [ 'Host', 'localhost:8000' ]\n      },\n      [Symbol(errored)]: null,\n      [Symbol(kHighWaterMark)]: 65536,\n      [Symbol(kRejectNonStandardBodyWrites)]: false,\n      [Symbol(kUniqueHeaders)]: null\n    },\n    _currentUrl: 'http://localhost:8000/vehicules/FF-789-HH',\n    [Symbol(shapeMode)]: true,\n    [Symbol(kCapture)]: false\n  },\n  cause: AggregateError [ECONNREFUSED]: \n      at internalConnectMultiple (node:net:1139:18)\n      at afterConnectMultiple (node:net:1712:7) {\n    code: 'ECONNREFUSED',\n    [errors]: [\n      Error: connect ECONNREFUSED ::1:8000\n          at createConnectionError (node:net:1675:14)\n          at afterConnectMultiple (node:net:1705:16) {\n        errno: -61,\n        code: 'ECONNREFUSED',\n        syscall: 'connect',\n        address: '::1',\n        port: 8000\n      },\n      Error: connect ECONNREFUSED 127.0.0.1:8000\n          at createConnectionError (node:net:1675:14)\n          at afterConnectMultiple (node:net:1705:16) {\n        errno: -61,\n        code: 'ECONNREFUSED',\n        syscall: 'connect',\n        address: '127.0.0.1',\n        port: 8000\n      }\n    ]\n  }\n}\nÉtat de la conversation mis à jour: {\n  service: 'freins',\n  jour: 'lundi',\n  horaire: 'matin',\n  garage: 'Lyon',\n  confirmed: false,\n  licensePlate: 'FF-789-HH',\n  vehiculeModel: 'Clio',\n  vehiculeBrand: 'Renault',\n  askingForLicensePlate: true\n}\n🤖 Chatbot: Parfait ! Votre rendez-vous est confirmé pour votre Renault Clio (immatriculation FF-789-HH) au garage de Lyon le lundi matin pour freins. Le prix sera de 362€. Pouvons-nous vous aider pour autre chose ?\n=======================================\n✅ SCÉNARIO RÉUSSI: Demande compliquée avec changement d'avis\nVéhicule non trouvé, création d'un nouveau véhicule...\n🔧 Tentative d'exécution SQL directe via Docker:\n⚠️ Aucune plaque d'immatriculation trouvée, utilisation d'une valeur par défaut.\n\n        INSERT INTO vehicule (\n          id, user_id, brand, model, license_plate, vin, \n          registration_date, mileage, created_at, updated_at\n        ) VALUES (\n          'veh-8d6rdjcfmhh', \n          'test-user-id-12345', \n          'Renault', \n          'Clio', \n          'AA123AA', \n          'VF18JJS4NI8RO', \n          '2020-01-01', \n          50000, \n          NOW(), \n          NOW()\n        );\n      \n❌ Erreur SQL: Command failed: docker exec -i mysql_database mysql -u user -puserpassword myapp -e \"\n        INSERT INTO vehicule (\n          id, user_id, brand, model, license_plate, vin, \n          registration_date, mileage, created_at, updated_at\n        ) VALUES (\n          \\'veh-8d6rdjcfmhh\\', \n          \\'test-user-id-12345\\', \n          \\'Renault\\', \n          \\'Clio\\', \n          \\'AA123AA\\', \n          \\'VF18JJS4NI8RO\\', \n          \\'2020-01-01\\', \n          50000, \n          NOW(), \n          NOW()\n        );\n      \"\nmysql: [Warning] Using a password on the command line interface can be insecure.\nERROR at line 2: Unknown command '\\''.\n\n❌ Échec de création du véhicule, utilisation d'un ID temporaire\n🔧 Tentative d'exécution SQL directe via Docker:\n\n      INSERT INTO appointment (\n        id, vehicule_id, garage_id, date, status, \n        notes, created_at, updated_at\n      ) VALUES (\n        'appt-89iaxa7px0w', \n        'veh-8d6rdjcfmhh', \n        '0196ed2d-b150-7411-9c36-22b31ab0f54a', \n        '2025-05-20 12:00:00', \n        'confirmed', \n        'Rendez-vous de service', \n        NOW(), \n        NOW()\n      );\n    \n❌ Erreur SQL: Command failed: docker exec -i mysql_database mysql -u user -puserpassword myapp -e \"\n      INSERT INTO appointment (\n        id, vehicule_id, garage_id, date, status, \n        notes, created_at, updated_at\n      ) VALUES (\n        \\'appt-89iaxa7px0w\\', \n        \\'veh-8d6rdjcfmhh\\', \n        \\'0196ed2d-b150-7411-9c36-22b31ab0f54a\\', \n        \\'2025-05-20 12:00:00\\', \n        \\'confirmed\\', \n        \\'Rendez-vous de service\\', \n        NOW(), \n        NOW()\n      );\n    \"\nmysql: [Warning] Using a password on the command line interface can be insecure.\nERROR at line 2: Unknown command '\\''.\n\n❌ Échec de création du rendez-vous en base\nℹ️ Simulation de succès pour le test:\n{\n  id: 'appt-89iaxa7px0w',\n  vehicule_id: 'veh-8d6rdjcfmhh',\n  garage_id: '0196ed2d-b150-7411-9c36-22b31ab0f54a',\n  date: '2025-05-20 12:00:00',\n  status: 'confirmed',\n  notes: 'Rendez-vous de service'\n}\nTentative de réservation terminée: true\n\n📊 RÉSUMÉ DES TESTS:\n====================================================\n✅ Rendez-vous vidange avec plaque d'immatriculation\n✅ Rendez-vous pneus avec questions de prix\n✅ Demande compliquée avec changement d'avis\n====================================================\n3/3 scénarios réussis (100%)\n\n⚠️ API Backend non disponible, vérification en base de données ignorée\n\n✅ Résultats enregistrés dans: /Users/jeremypoulain/Documents/Hackaton/Chatbot/data/test-results-2025-05-20T12-26-21.594Z.json\n\n🏁 TESTS TERMINÉS\n"
    }
  }
}